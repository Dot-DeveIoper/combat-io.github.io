(function(T,M){var k2=P,J=T();while(!![]){try{var A=parseInt(k2(0x6c))/0x1*(parseInt(k2(0x126))/0x2)+-parseInt(k2(0xcc))/0x3+-parseInt(k2(0x12a))/0x4*(-parseInt(k2(0xb4))/0x5)+-parseInt(k2(0x128))/0x6*(-parseInt(k2(0xa5))/0x7)+-parseInt(k2(0x9e))/0x8+-parseInt(k2(0x13b))/0x9*(-parseInt(k2(0x81))/0xa)+parseInt(k2(0xfd))/0xb;if(A===M)break;else J['push'](J['shift']());}catch(o){J['push'](J['shift']());}}}(D,0x3f733));var v=(function(){var T=!![];return function(M,J){var A=T?function(){var k3=P;if(J){var o=J[k3(0xe5)](M,arguments);return J=null,o;}}:function(){};return T=![],A;};}()),F=v(this,function(){var k4=P;return F[k4(0x114)]()[k4(0x87)](k4(0xce))[k4(0x114)]()[k4(0x11c)](F)[k4(0x87)](k4(0xce));});F();function D(){var iJ=['map','Booster\x20Hat','connection','xVel','username','log','Buffer\x20missing','filter','sin','https://combat-io.glitch.me/bannedIPs.txt','\x0a\x20\x22','forEach','{}.constructor(\x22return\x20this\x22)(\x20)','mod','isLeader','info','IP\x20not\x20valid.','cacti','counter','owner','atan2','5181649EuXDux','aimdir','action','https://combat-io.glitch.me','replace','clanz','clanID','PlayerName','readFile','PlayerGold','/websocket','/ban','God\x20Wings','reloaded','/api/players','food','/Version','stateObject','spawned','reload','speed','upgradeWep','string','toString','cos','clanName','isMember','CrashBreaker\x20Hat','clanMem','name','</span>\x20<span>','constructor','test','text','PlayerOldY','__proto__','Player_','yes','Short\x20Sword','teleport','utf-8','283474cZpvMY','/data','138ujcXyA','logout','390780GBjqPK','No\x20Acc','</span>\x20</div>\x20<div\x20class=\x22playerScore2\x22>\x20<i></i>\x20<span>','bind','damage','get','velocity','input','includes','then','fov','owned','floor','player','public','url','\x22,\x0a','9hbOggu','No\x20Hat','/Privacy','Barbarian\x20Hat','You\x20are\x20banned.','substr','\x0a\x20}','random','yVel','New\x20User\x20Appeared!','push','function\x20*\x5c(\x20*\x5c)','upgrade','1TifyUi','password','/unban\x20','delete','skin','chain','env','yWiggle','sendFile','joinClan','admin','sendStatus','range','password2','/app/public/privacy.txt','parse','clanTrue','cost','emit','kills','find','2129330LyJUdS','stone','splice','<!DOCTYPE\x20html>\x20<html\x20lang=\x22en\x22>\x20<head>\x20<meta\x20charset=\x22UTF-8\x22\x20/>\x20<meta\x20http-equiv=\x22X-UA-Compatible\x22\x20content=\x22IE=edge\x22\x20/>\x20<meta\x20name=\x22viewport\x22\x20content=\x22minimal-ui,\x20width=device-width,\x20height=device-height,\x20initial-scale=1.0,\x20shrink-to-fit=no,\x20viewport-fit=cover,\x20user-scalable=no,\x20minimum-scale=1.0,\x20maximum-scale=1.0\x22\x20/>\x20<meta\x20name=\x22theme-color\x22\x20content=\x22#1d9300\x22\x20/>\x20<meta\x20name=\x22keywords\x22\x20content=\x22ComBat,\x20ComBat.io,\x20ComBatio,\x20MooMoo.io,\x20Taming.io,\x20Sploop.io,\x20Lostworld.io,\x20iogames,\x20.iogames,\x20io,\x20.io,\x202d\x20game,\x20survival\x22\x20/>\x20<meta\x20name=\x22description\x22\x20content=\x22A\x20game\x20where\x20you\x20can\x20collect\x20resources,\x20compete\x20against\x20other\x20players,\x20and\x20get\x20the\x20highest\x20score\x20on\x20the\x20leaderboards!\x22\x20/>\x20<!--\x20<meta\x20name=\x22robots\x22\x20content=\x22index,\x20follow\x22>\x20-->\x20<!--\x20<meta\x20name=\x22googlebot\x22\x20content=\x22index,\x20follow\x22>\x20-->\x20<!--\x20<meta\x20name=\x22revisit-after\x22\x20content=\x2214\x20days\x22>\x20-->\x20<title>ComBat.io\x20-\x20The\x20new\x20.IO\x20Game!</title>\x20<meta\x20property=\x22og:image\x22\x20content=\x22https://cdn.glitch.global/069d62dd-5ac4-4928-9200-7250f0cc75c3/ComBat.io.png?v=1657391740707\x22\x20/>\x20<link\x20id=\x22favicon\x22\x20rel=\x22icon\x22\x20href=\x22https://cdn.glitch.global/069d62dd-5ac4-4928-9200-7250f0cc75c3/Favicon.png?v=1662344798646\x22\x20type=\x22image/x-icon\x22\x20/>\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22/main.css\x22\x20/>\x20<script\x20src=\x22https://rawgit.com/kawanet/msgpack-lite/master/dist/msgpack.min.js\x22\x20defer></script>\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\x22\x20/>\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://forkaweso.me/Fork-Awesome/assets/fork-awesome/css/fork-awesome.css\x22\x20/>\x20<link\x20rel=\x22preconnect\x22\x20href=\x22https://fonts.googleapis.com\x22\x20/>\x20<link\x20rel=\x22preconnect\x22\x20href=\x22https://fonts.gstatic.com\x22\x20crossorigin\x20/>\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://fonts.googleapis.com/css2?family=Hammersmith+One\x22\x20/>\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://fonts.googleapis.com/icon?family=Material+Icons\x22\x20/>\x20</head>\x20<body>\x20<div\x20class=\x22backgroundImg\x22\x20id=\x22backgroundImg\x22></div>\x20<div\x20class=\x22navicon\x22\x20id=\x22navbar\x22>\x20<span\x20class=\x22icon\x20material-icons\x20md-2-rem\x22\x20id=\x22icon\x22>\x20menu\x20</span>\x20<!--\x20<span\x20class=\x22icon\x20material-icons\x20md-36\x22\x20id=\x22icon\x22>&#xE5CD;\x20&#xE5D2;</span>\x20-->\x20<!--\x20<span\x20class=\x22icon\x22\x20id=\x22icon\x22>≡</span>\x20-->\x20<!--\x20<span\x20class=\x22icon\x22\x20id=\x22icon\x22>☓</span>\x20-->\x20</div>\x20<div\x20class=\x22topMenu\x22\x20id=\x22menu\x22>\x20<a\x20class=\x22main\x22\x20onclick=\x22window.open(\x27https://combat-io.glitch.me/\x27)\x22><span\x20class=\x22mainText\x22>Combat.io</span></a>\x20<!--\x20<a\x20class=\x22nextLine\x22></a>\x20-->\x20<a\x20href=\x22/Version\x22\x20target=\x22_blank\x22>Version</a>\x20<a\x20href=\x22https://discord.gg/BhUj2KThXJ\x22\x20target=\x22_blank\x22\x20class=\x22discord\x22>Discord</a>\x20<a\x20href=\x22/Terms\x22\x20target=\x22_blank\x22>Terms</a>\x20<a\x20href=\x22/Privacy\x22\x20target=\x22_blank\x22>Privacy\x20Policy</a>\x20</div>\x20<div\x20class=\x22leaderboardsContainer\x22>\x20<div\x20class=\x22centeredPage\x22>\x20<div\x20class=\x22order\x22>\x20<span>Rank</span>\x20<span>Name</span>\x20<span>Score</span>\x20</div>\x20<div\x20class=\x22leaderboardsPage\x22>\x20<div\x20class=\x22playerScore1\x22>\x20<i\x20class=\x22first\x22></i>\x20<span>','clear','pow','search','age','weapon','Booster','Error...','socketLimit','placeInRiver','count','return\x20(function()\x20','call','json','/Terms','resources','table','prototype','loggedIn','Spike','send','length','abs','catch','gather','Cow','3759696PLWaPZ','indexOf','chat','use','hats','verification','wep','24143vIDJwQ','attacking','MODPASS','</span>\x20</div>\x20<div\x20class=\x22playerScore1\x22>\x20<i></i>\x20<span>','health','PlayerOldX','close','toLowerCase','console','min','post','---','warn','</span>\x20</div>\x20</div>\x20</div>\x20</div>\x20<div\x20class=\x22centeredBottom\x22>\x20<div\x20class=\x22bottomPage\x22>\x20<!--\x20onclick=\x22history.go(-1);\x20return\x20false;\x22\x20-->\x20<a\x20class=\x22link\x22\x20onclick=\x22const\x20backButton\x20=\x20document.getElementById(\x27backButton\x27);\x20if\x20(window.history.length\x20===\x20undefined)\x20{\x20backButton.addEventListener(\x27click\x27,\x20()\x20=>\x20{\x20history.go(-1);\x20return\x20false;\x20});\x20}\x20else\x20{\x20window.location.href\x20=\x20\x27https://combat-io.glitch.me/\x27;\x20}\x22\x20id=\x22backButton\x22>\x20<div\x20class=\x22\x22>\x20Go\x20back\x20to\x20game\x20<span\x20class=\x22arrow\x20material-icons\x20md-24\x22></span>\x20</div>\x20</a>\x20</div>\x20</div>\x20<script\x20src=\x22/main.js\x22></script>\x20</body>\x20</html>','slice','15uZeuSH','heal','x\x20or\x20y\x20value\x20too\x20high\x20or\x20low','Tool\x20Hammer','Trap','Error:\x20','wood','body','now','replaceAll','dir','/views/index.html','sid','clients','while\x20(true)\x20{}','oid','Tank\x20Gear','/app/public/terms.txt','debu','xWiggle','gger','split','hat','accs','1404864yBIqeN','acc','(((.+)+)+)+$','noHurtTime','lastChatTimestamp','sqrt','sid:','\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','stringify','Ruby','removeItem','init','exception','isWeapon','assign','error','writeFile','gold','</span>\x20</div>\x20<div\x20class=\x22playerScore2\x22>\x20<i\x20class=\x22second\x22></i>\x20<span>','clanMembers','\x0a\x20{\x0a\x20','shift','ruby','movedir','sort','apply','create','handleUpgrade'];D=function(){return iJ;};return D();}var w=(function(){var T=!![];return function(M,J){var A=T?function(){var k5=P;if(J){var o=J[k5(0xe5)](M,arguments);return J=null,o;}}:function(){};return T=![],A;};}());(function(){w(this,function(){var k6=P,T=new RegExp(k6(0x146)),M=new RegExp(k6(0xd3),'i'),J=i(k6(0xd7));!T[k6(0x11d)](J+k6(0x71))||!M[k6(0x11d)](J+k6(0x131))?J('0'):i();})();}());function P(d,k){var i=D();return P=function(w,F){w=w-0x6c;var v=i[w];return v;},P(d,k);}var k=(function(){var T=!![];return function(M,J){var A=T?function(){if(J){var o=J['apply'](M,arguments);return J=null,o;}}:function(){};return T=![],A;};}()),d=k(this,function(){var k8=P,T=function(){var k7=P,X;try{X=Function(k7(0x8f)+k7(0xf4)+');')();}catch(L){X=window;}return X;},M=T(),J=M[k8(0xad)]=M['console']||{},A=[k8(0xed),k8(0xb1),k8(0xf7),k8(0xdb),k8(0xd8),k8(0x94),'trace'];for(var o=0x0;o<A['length'];o++){var s=k['constructor']['prototype'][k8(0x12d)](k),z=A[o],W=J[z]||s;s[k8(0x120)]=k[k8(0x12d)](k),s[k8(0x114)]=W[k8(0x114)][k8(0x12d)](W),J[z]=s;}});d(),((()=>{var k9=P;const T=require('express'),M=require('body-parser'),J=require('ws'),A=T(),o=require('fs'),s=require('node-fetch'),{encode:z,decode:W}=require('@msgpack/msgpack'),X={0x0:0x14b4,0x1:0x1194,0x2:0x147b,0x4:0x11ab,0x5:0x15e9,0x6:0x125c,0x7:0x127f,0x8:0x12ea,0x9:0x131e,0xa:0x137f,0xb:0x141a,0xc:0x13c4,0xd:0x1443,0xe:0x149b};A['use'](M['urlencoded']({'extended':!![]})),A[k9(0xa1)](M[k9(0x91)]()),A['use'](T['static'](k9(0x138))),(A[k9(0xaf)](k9(0x127),(d8,d9)=>{var kd=k9;o[kd(0x105)]('.'+process[kd(0x72)]['P'],'utf-8',(dd,dk)=>{var kk=kd;let di=JSON['parse']('['+dk[kk(0x101)](/,$/,'')+']'),dw=di[kk(0x80)](dv=>dv[kk(0xec)]==d8[kk(0xbb)][kk(0xec)])||![],dF=Object[kk(0xda)](d8[kk(0xbb)],{'loggedIn':![]});if(dd)throw dd;if(d8[kk(0xbb)]['url']==kk(0xe6))try{if(!(d8[kk(0xbb)][kk(0xec)]||d8[kk(0xbb)][kk(0x6d)]||d8[kk(0xbb)][kk(0x79)]))d9[kk(0x77)](0x194);else{if(di[kk(0x80)](dv=>dv[kk(0xec)]===d8[kk(0xbb)][kk(0xec)])||![])d9[kk(0x77)](0x191);else{if(!/^[a-zA-Z0-9]+$/[kk(0x11d)](d8[kk(0xbb)][kk(0xec)]))d9['sendStatus'](0x192);else{if(d8[kk(0xbb)][kk(0x6d)]!==d8[kk(0xbb)][kk(0x79)])d9['sendStatus'](0x193);else d8[kk(0xbb)]['username']['length']>0xf?d9[kk(0x77)](0x194):(d9[kk(0x77)](0xc8),s(kk(0x100)+process['env']['P'])['then'](dv=>dv['text']())[kk(0x133)](dv=>{var ki=kk;let dD=JSON[ki(0xd4)](dF),dP=dv+dD[ki(0x101)](/",/g,'\x22,\x0a')[ki(0x101)](/\n"/g,ki(0xf2))[ki(0x101)](/^{/,ki(0xe0))[ki(0x101)](/}$/,ki(0x141))+',';o[ki(0xdc)]('.'+process[ki(0x72)]['P'],dP,dT=>{if(dT)throw dT;});}));}}}}catch(dv){console[kk(0xed)](dv),d9['sendStatus'](0x1f9);}if(d8[kk(0xbb)][kk(0x139)]=='login')try{d8[kk(0xbb)][kk(0xec)]===dw[kk(0xec)]&&d8[kk(0xbb)][kk(0x6d)]===dw[kk(0x6d)]?(d9[kk(0x77)](0xc8),s('https://combat-io.glitch.me'+process['env']['P'])[kk(0x133)](dD=>dD[kk(0x11e)]())[kk(0x133)](dD=>{var kw=kk;let dP=di[kw(0xef)](dJ=>dJ[kw(0xec)]!==d8[kw(0xbb)][kw(0xec)]&&dJ[kw(0x6d)]!==d8[kw(0xbb)][kw(0x6d)]),dT=di['find'](dJ=>dJ[kw(0xec)]===d8['body'][kw(0xec)]&&dJ[kw(0x6d)]===d8[kw(0xbb)][kw(0x6d)]);dT[kw(0x96)]=!![],dP[kw(0x145)](dT);let dM=JSON[kw(0xd4)](dP)['replace'](/]/g,'')[kw(0x101)](/\[/g,'')['replace'](/",/g,'\x22,\x0a')[kw(0x101)](/\n"/g,'\x0a\x20\x22')['replace'](/^{/,kw(0xe0))[kw(0x101)](/}$/,'\x0a\x20}')+',';o['writeFile']('.'+process[kw(0x72)]['P'],dM,dJ=>{if(dJ)throw dJ;}),console['log'](dM);})):d9['sendStatus'](0x191);}catch(dD){console[kk(0xed)](dD),d9[kk(0x77)](0x1f9);}if(d8[kk(0xbb)]['url']==kk(0x129))try{let dP=di['filter'](dM=>dM[kk(0xec)]!==d8[kk(0xbb)][kk(0xec)]&&dM[kk(0x6d)]!==d8[kk(0xbb)][kk(0x6d)]),dT=di[kk(0x80)](dM=>dM['username']===d8[kk(0xbb)][kk(0xec)]&&dM['password']===d8[kk(0xbb)]['password']);dT[kk(0x96)]==!![]&&d8[kk(0xbb)][kk(0xec)]===dw['username']&&d8[kk(0xbb)]['password']===dw[kk(0x6d)]?(d9['sendStatus'](0xc8),dT[kk(0x96)]=![],dP[kk(0x145)](dT),s(kk(0x100)+process['env']['P'])[kk(0x133)](dM=>dM[kk(0x11e)]())[kk(0x133)](dM=>{var kF=kk;let dJ=di[kF(0xef)](dz=>dz['username']!==d8[kF(0xbb)][kF(0xec)]&&dz[kF(0x6d)]!==d8[kF(0xbb)][kF(0x6d)]),dA=di[kF(0x80)](dz=>dz[kF(0xec)]===d8[kF(0xbb)][kF(0xec)]&&dz['password']===d8[kF(0xbb)]['password']);dA[kF(0x96)]=![],dJ['push'](dA);let ds=JSON[kF(0xd4)](dJ)['replace'](/]/g,'')[kF(0x101)](/\[/g,'')[kF(0x101)](/",/g,kF(0x13a))[kF(0x101)](/\n"/g,'\x0a\x20\x22')[kF(0x101)](/^{/,kF(0xe0))['replace'](/}$/,kF(0x141))+',';o[kF(0xdc)]('.'+process['env']['P'],ds,dz=>{if(dz)throw dz;});})):d9['sendStatus'](0x191);}catch(dM){console[kk(0xed)](dM),d9[kk(0x77)](0x1f9);}if(d8[kk(0xbb)][kk(0x139)]==kk(0x6f))try{let dJ=di[kk(0xef)](ds=>ds[kk(0xec)]!==d8['body']['username']&&ds[kk(0x6d)]!==d8[kk(0xbb)][kk(0x6d)]),dA=di[kk(0x80)](ds=>ds[kk(0xec)]===d8[kk(0xbb)][kk(0xec)]&&ds[kk(0x6d)]===d8['body'][kk(0x6d)]);if(d8[kk(0xbb)][kk(0xa3)][kk(0xac)]()!==kk(0x122))d9['sendStatus'](0x192);else dA[kk(0x96)]==!![]&&d8[kk(0xbb)]['username']===dw[kk(0xec)]&&d8[kk(0xbb)][kk(0x6d)]===dw[kk(0x6d)]?(d9[kk(0x77)](0xc8),s(kk(0x100)+process[kk(0x72)]['P'])['then'](ds=>ds[kk(0x11e)]())[kk(0x133)](ds=>{var kv=kk;let dz=di[kv(0xef)](dX=>dX[kv(0xec)]!==d8[kv(0xbb)][kv(0xec)]&&dX[kv(0x6d)]!==d8['body'][kv(0x6d)]),dW=JSON[kv(0xd4)](dz)[kv(0x101)](/]/g,'')[kv(0x101)](/\[/g,'')[kv(0x101)](/",/g,'\x22,\x0a')['replace'](/\n"/g,kv(0xf2))['replace'](/^{/,'\x0a\x20{\x0a\x20')['replace'](/}$/,kv(0x141))+',';o['writeFile']('.'+process[kv(0x72)]['P'],dW,dX=>{if(dX)throw dX;});})):d9[kk(0x77)](0x191);}catch(ds){console['log'](ds),d9[kk(0x77)](0x1f9);}});}),A['use'](process[k9(0x72)]['P'],function(d8,d9){var kD=k9;d9[kD(0x74)](__dirname+process[kD(0x72)]['P']);}),A['use'](k9(0x13d),function(d8,d9){var kP=k9;d9[kP(0x74)](kP(0x7a));}),A[k9(0xa1)]('/leaderboards',function(d8,d9){o['readFile']('.'+process['env']['H'],'utf-8',(dd,dk)=>{var kT=P;let di=JSON['parse']('['+dk[kT(0x101)](/,$/,'')+']'),dw=di[kT(0xe4)](function(dF,dv){var kM=kT;return dF[kM(0x106)]<dv[kM(0x106)]?0x1:-0x1;}||kT(0xb0))['slice'](0x0,0xa);s(kT(0x100)+process['env']['H'])[kT(0x133)](dF=>dF[kT(0x11e)]())[kT(0x133)](dF=>{var kJ=kT;d9['status'](0xc8)[kJ(0x98)](kJ(0x84)+(dw[0x0][kJ(0x104)]||kJ(0xb0))+'</span>\x20<span>'+(dw[0x0][kJ(0x106)]||kJ(0xb0))+kJ(0xde)+(dw[0x1][kJ(0x104)]||kJ(0xb0))+kJ(0x11b)+(dw[0x1]['PlayerGold']||kJ(0xb0))+'</span>\x20</div>\x20<div\x20class=\x22playerScore1\x22>\x20<i\x20class=\x22third\x22></i>\x20<span>'+(dw[0x2][kJ(0x104)]||kJ(0xb0))+kJ(0x11b)+(dw[0x2][kJ(0x106)]||kJ(0xb0))+kJ(0x12c)+(dw[0x3][kJ(0x104)]||kJ(0xb0))+kJ(0x11b)+(dw[0x3]['PlayerGold']||kJ(0xb0))+'</span>\x20</div>\x20<div\x20class=\x22playerScore1\x22>\x20<i></i>\x20<span>'+(dw[0x4][kJ(0x104)]||kJ(0xb0))+'</span>\x20<span>'+(dw[0x4]['PlayerGold']||kJ(0xb0))+'</span>\x20</div>\x20<div\x20class=\x22playerScore2\x22>\x20<i></i>\x20<span>'+(dw[0x5]['PlayerName']||kJ(0xb0))+'</span>\x20<span>'+(dw[0x5][kJ(0x106)]||'---')+kJ(0xa8)+(dw[0x6][kJ(0x104)]||kJ(0xb0))+kJ(0x11b)+(dw[0x6]['PlayerGold']||kJ(0xb0))+'</span>\x20</div>\x20<div\x20class=\x22playerScore2\x22>\x20<i></i>\x20<span>'+(dw[0x7]['PlayerName']||kJ(0xb0))+kJ(0x11b)+(dw[0x7]['PlayerGold']||kJ(0xb0))+kJ(0xa8)+(dw[0x8][kJ(0x104)]||kJ(0xb0))+kJ(0x11b)+(dw[0x8][kJ(0x106)]||kJ(0xb0))+kJ(0x12c)+(dw[0x9]['PlayerName']||'---')+'</span>\x20<span>'+(dw[0x9][kJ(0x106)]||kJ(0xb0))+kJ(0xb2));})[kT(0x9b)](function(dF){var kA=kT;console[kA(0xb1)](kA(0xb9),dF);});});}),A['use'](k9(0x92),function(d8,d9){var ko=k9;d9[ko(0x74)](ko(0xc5));}),A[k9(0xa1)](k9(0x10d),function(d8,d9){var ks=k9;d9[ks(0x74)]('/app/public/version.txt');}),A['use'](process[k9(0x72)]['H'],function(d8,d9){var kz=k9;d9['sendFile'](__dirname+process[kz(0x72)]['H']);}));var L=[];function b(d8){var d9=Math['PI'];return d8*(0xb4/d9);}var e=[],q=[],n=[],p=0x0,a=0x2710,Q=0x3e8,V=0x1770,U=0x3e8,O=0x3e8,x=0x1,c={},u=![];let H=k9(0x8b);function Z(d8,d9,dd,dk=0x19){var kW=k9;let di=Math[kW(0xfc)](d9['y']-d8['y'],d9['x']-d8['x']);di=b(di);let dw=dk/0x2,dF=di+dw,dv=di-dw;return dd>dv&&dd<dF?!![]:![];}function I(d8,d9){var kX=k9;return Math[kX(0x136)](Math[kX(0x142)]()*(d9-d8+0x1))+d8;}Array[k9(0x95)][k9(0xd6)]=function(d8){var kL=k9,d9=this[kL(0x9f)](d8);return d9>-0x1&&this[kL(0x83)](d9,0x1),this;};var Y=[],t=[],R=[];for(let d8=0x0;d8<0x12;d8++){var f={'x':d9(d8),'y':dd(d8),'dir':Math[k9(0x142)](),'id':0x4,'xWiggle':0x0,'yWiggle':0x0};t[k9(0x145)](f);function d9(dk){return X[dk];}function dd(dk){if(dk===0x0)return 0x2530;if(dk===0x1)return 0x251c;if(dk===0x2)return 0x2481;if(dk===0x3)return 0x2499;if(dk===0x4)return 0x25b0;if(dk===0x5)return 0x263d;if(dk===0x6)return 0x2417;if(dk===0x7)return 0x269f;if(dk===0x8)return 0x23e5;if(dk===0x9)return 0x26d4;if(dk===0xa)return 0x23d3;if(dk===0xb)return 0x2403;if(dk===0xc)return 0x26c4;if(dk===0xc)return 0x270c;if(dk===0xd)return 0x266f;if(dk===0xe)return 0x25d4;}}t[k9(0x145)](f);for(let dk=0x0;dk<0x8;dk++){for(let di=0x0;di<a/0x32;di++){var K=I(0x0,a),N=I(0x0,a);if(N<=0x0||N>=0x0){if(dk==0x6)continue;}if(N<0x3e8){if(dk==0x0||dk==0x2||dk==0x5||dk==0x7)continue;}if(N<0x1b58){if(dk==0x7)continue;}if(N>0x3e8){if(dk==0x3||dk==0x1)continue;}if(N>a-Q-U-0x64&&N<a-Q+0x64){if(dk==0x2||dk==0x0||dk==0x3||dk==0x1||dk==0x5||dk==0x7)continue;}if(N>a-Q-0x64){if(dk==0x2||dk==0x0||dk==0x3||dk==0x1)continue;}if(N>a-Q-U-O-0x64&&N<a-Q-U+0x64){if(dk==0x2||dk==0x0||dk==0x3||dk==0x1)continue;}var f={'x':K,'y':N,'dir':Math[k9(0x142)](),'id':dk,'xWiggle':0x0,'yWiggle':0x0};if(t['filter'](dw=>dw&&S(f,dw)<0xc8)[k9(0x99)]>0x0)continue;t['push'](f);}}t[k9(0x145)]({'x':0x1314,'y':0x2554,'dir':Math[k9(0x142)](),'id':0x3,'xWiggle':0x0,'yWiggle':0x0}),Y['push']({'id':0x0,'speed':0x3,'x':0x1388,'y':0x1388,'dir':0x0,'health':0x64,'xVel':0x0,'yVel':0x0});var G=[{'id':0x0,'count':0xa,'aggresive':![],'name':k9(0x9d),'speed':0x5,'health':0x64,'maxHealth':0x64}];G[k9(0xf3)](dw=>{var kb=k9;for(let dv=0x0;dv<dw[kb(0x8e)];dv++){var dF={'id':dw['id'],'speed':dw['speed'],'x':I(0x0,a),'y':I(0x0,a),'dir':0x0,'health':0x64,'xVel':0x0,'yVel':0x0};Y[kb(0x145)](dF);}}),console[k9(0xed)](Y);var l=0x1f4,y=[{'id':0x0,'isWeapon':!![],'name':k9(0xb7),'reload':0x1c2,'damage':0x19,'range':0x5f,'fov':0xa0,'gather':0x1},{'id':0x1,'isWeapon':![],'name':'Orange','cost':{'food':0xa},'heal':0x14},{'id':0x2,'isWeapon':![],'placeable':!![],'placeInRiver':![],'name':k9(0x97),'cost':{'wood':0xa,'stone':0x5},'damage':0x14,'velocity':0x14,'health':0x12c,'oid':0x0,'clanID':0x0,'maxHealth':0x12c},{'id':0x3,'isWeapon':![],'placeable':!![],'placeInRiver':![],'name':'Wall','cost':{'wood':0x14},'damage':0x0,'velocity':0x2,'health':0xfa,'maxHealth':0xfa},{'id':0x4,'isWeapon':![],'placeable':!![],'placeInRiver':![],'name':k9(0x8a),'cost':{'wood':0xa,'stone':0x14},'damage':0x0,'velocity':0x0,'health':0xc8,'maxHealth':0xc8},{'id':0x5,'isWeapon':![],'placeable':!![],'placeInRiver':![],'name':k9(0xb8),'cost':{'wood':0x14,'stone':0x5},'damage':0x0,'oid':0x0,'clanID':0x0,'velocity':-0x2,'health':0xc8,'maxHealth':0xc8},{'id':0x6,'isWeapon':![],'placeable':!![],'placeInRiver':![],'teleport':!![],'name':'TeleportPad','cost':{'wood':0x32,'stone':0x32},'damage':0x0,'velocity':-0x2,'health':0x32,'maxHealth':0xc8},{'id':0x7,'isWeapon':!![],'name':k9(0x123),'reload':0x190,'damage':0x23,'range':0x6e,'fov':0xa0,'gather':0x1}];A[k9(0x12f)]('/',(dw,dF)=>{var ke=k9;console[ke(0xed)](ke(0x144)),H=dw['headers']['x-forwarded-for'][ke(0xc9)](',')[ke(0xe1)](),dF[ke(0x74)](__dirname+ke(0xbf));}),A[k9(0x12f)](k9(0x10b),(dw,dF)=>{var kq=k9;dF[kq(0x91)]({'players':E[kq(0x99)]});});function S(dw,dF){var kn=k9;return Math[kn(0xd1)](Math[kn(0x86)](dw['y']-dF['y'],0x2)+Math[kn(0x86)](dw['x']-dF['x'],0x2));}const B=new J['Server']({'noServer':!![],'maxPayload':0x200});var E=[];function g(dw,dF){var kp=k9;if(dw[kp(0x93)]['gold']>=dw['hats'][dF][kp(0xdd)]&&dw[kp(0x93)][kp(0xe2)]>=dw['hats'][dF][kp(0xe2)]&&!dw['hats'][dF][kp(0x135)])dw[kp(0x93)][kp(0xdd)]-=dw[kp(0xa2)][dF][kp(0xdd)],dw[kp(0x93)][kp(0xe2)]-=dw[kp(0xa2)][dF]['ruby'],dw[kp(0xa2)][dF][kp(0x135)]=!![],dw['hat']=dF||0x0;else dw['hats'][dF][kp(0x135)]&&(dw['hat']=dF||0x0);}function C(dw,dF){var ka=k9;dw[ka(0x116)]=dF||null;}function r(dw,dF){var kQ=k9;dw[kQ(0x88)]<=0x2&&(dw[kQ(0xa4)]=dF||0x0,dw[kQ(0x147)]=!![]);}function d0(dw,dF){var kV=k9;if(dw['resources'][kV(0xdd)]>=dw[kV(0xcb)][dF][kV(0xdd)]&&dw[kV(0x93)]['ruby']>=dw['accs'][dF]['ruby']&&!dw[kV(0xcb)][dF]['owned'])dw[kV(0x93)][kV(0xdd)]-=dw[kV(0xcb)][dF][kV(0xdd)],dw[kV(0x93)]['ruby']-=dw[kV(0xcb)][dF][kV(0xe2)],dw[kV(0xcb)][dF][kV(0x135)]=!![],dw[kV(0xcd)]=dF||0x0;else dw[kV(0xcb)][dF][kV(0x135)]&&(dw['acc']=dF||0x0);}function d1(dw,dF,dv){var kU=k9;dw[kU(0xaa)]=dw['x'],dw[kU(0x11f)]=dw['y'],dw[kU(0xcf)]=0xc8,dw[kU(0x70)]=dv||0x0,dw['clanName']=dw[kU(0x116)],dw['name']=dF,dw['ip']=H,(dw[kU(0x7f)]=0x0,dw[kU(0xc0)]=dw['sid']||++p),dw[kU(0x10f)]=!![],dw[kU(0x88)]=0x1,dw['x']=I(0x0,a),dw['y']=I(0x0,a),dw[kU(0xa9)]=0x64,dw['weapons']=[0x0,0x1,0x2,0x3,0x4,0x5,0x6,0x7],dw['hats']=[{'name':kU(0x13c),'owned':!![],'gold':0x0,'ruby':0x0},{'name':kU(0x13e),'owned':![],'gold':0x0,'ruby':0x0},{'name':kU(0xe9),'owned':![],'gold':0x3e8,'ruby':0x0},{'name':'Soldier\x20Hat','owned':![],'gold':0xfa0,'ruby':0x0},{'name':'Fish\x20Hat','owned':![],'gold':0x9c4,'ruby':0x0},{'name':kU(0xc4),'owned':![],'gold':0x3a98,'ruby':0x0},{'name':'Spike\x20Gear','owned':![],'gold':0x3a98,'ruby':0x0},{'name':'X-jorgepet\x20cap','owned':![],'gold':0x0,'ruby':0x0},{'name':kU(0x118),'owned':![],'gold':0x0,'ruby':0x0}],dw['accs']=[{'name':kU(0x12b),'owned':!![],'gold':0x0,'ruby':0x0},{'name':'Shadow\x20Wings','owned':![],'gold':0x0,'ruby':0x0},{'name':kU(0x109),'owned':![],'gold':0x4e20,'ruby':0x0}],dw[kU(0x76)]?dw[kU(0x93)]={'food':0xf4240,'wood':0xf4240,'stone':0xf4240,'gold':0xf4240,'ruby':0xf4240,'food2':0x0,'wood2':0x0,'cacti':0x0}:dw[kU(0x93)]={'food':0x64,'wood':0x64,'stone':0x64,'gold':0x64,'ruby':0x0,'food2':0x0,'wood2':0x0,'cacti':0x0};}var d2=0x514;function d3(dw,dF,dv){var kO=k9;return Math[kO(0xd1)](Math[kO(0x86)](dF['y']-dw['y']-dw[kO(0x143)]*0x5,0x2)+Math[kO(0x86)](dF['x']-dw['x']-dw[kO(0xeb)]*0x5,0x2))<dv;}function d4(dw,dF,dv=0x3c){return S(dw,dF)<dv+0x1;}function d5(dw,dF){B['clients']['forEach'](dv=>{var kx=P;let dD=dv['player'];dD&&(S(dD,dF)<d2&&dv[kx(0x98)](z(dw)));});}setInterval(()=>{var kh=k9;B['clients'][kh(0xf3)](dw=>{var kc=kh;let dF=dw[kc(0x137)];if(dF){var dv=[];e[kc(0xf3)](dD=>{var ku=kc;dv[ku(0x145)]({'name':dD[ku(0x11a)],'sid':dD['sid'],'gold':dD[ku(0x93)]['gold']});}),dw[kc(0x98)](z(['b',[dv]])),q&&dw[kc(0x98)](z([kc(0x102),[q]])),n&&dw[kc(0x98)](z([kc(0x119),[n]]));}!dF[kc(0x76)]&&o[kc(0x105)]('.'+process[kc(0x72)]['H'],kc(0x125),(dD,dP)=>{var kH=kc;let dT=JSON[kH(0x7b)]('['+dP[kH(0x101)](/,$/,'')+']'),dM=JSON['stringify'](dT['filter'](ds=>ds[kH(0x104)]!==dF[kH(0x11a)]))+','||''[kH(0xb3)](0x1,-0x1),dJ=Object[kH(0xda)]({},{'PlayerName':dF[kH(0x11a)],'PlayerGold':dF[kH(0x93)][kH(0xdd)]}),dA=dT[kH(0x80)](ds=>ds[kH(0x104)]==dF[kH(0x11a)])||{'PlayerName':dF[kH(0x11a)],'PlayerGold':'0'};s(kH(0x100)+process[kH(0x72)]['H'])['then'](ds=>ds['text']())[kH(0x133)](ds=>{var kZ=kH;let dz=JSON[kZ(0xd4)](dJ),dW=JSON[kZ(0xd4)](JSON['parse']('['+(dM[kZ(0xb3)](0x1,-0x1)+','+dz)[kZ(0x101)](/\]/,'')+']'),null,0x2)[kZ(0xb3)](0x1,-0x1)[kZ(0x101)](/\n$/,'')['replace'](/\n,$/,',')+',';dJ[kZ(0x104)]&&!dJ[kZ(0x104)]['includes']('Player_')&&dA['PlayerGold']<dJ[kZ(0x106)]&&o[kZ(0xdc)]('.'+process['env']['H'],dW,dX=>{var kI=kZ;if(dX)throw dX;console[kI(0xed)](dW);});})[kH(0x9b)](function(ds){var kY=kH;console[kY(0xb1)](kY(0xb9),ds);});});});},0x3e8),setInterval(()=>{var kt=k9;B[kt(0xc1)]['forEach'](dw=>{var kR=kt;let dF=dw['player'];if(dF){var dv=E[kR(0xef)](dM=>dM&&dM[kR(0x10f)]&&S(dF,dM)<d2);dw[kR(0x98)](z(['33',[dv]]));var dD=t[kR(0xef)](dM=>dM&&S(dF,dM)<d2);dw[kR(0x98)](z(['o',[dD]]));var dP=R[kR(0xef)](dM=>dM&&S(dF,dM)<d2);dw[kR(0x98)](z(['x',[dP]]));var dT=Y['filter'](dM=>dM&&S(dF,dM)<d2);dw['send'](z(['a',[dT]]));}});},0x14),setInterval(()=>{var kf=k9;B[kf(0xc1)][kf(0xf3)](dw=>{var kK=kf;let dF=dw[kK(0x137)];dF&&(dF[kK(0xcf)]=Math['max'](0x0,dF[kK(0xcf)]-0x1));});},0x32);function d6(dw){return dw*0.01745329251;}setInterval(()=>{var km=k9;Y[km(0xf3)](dw=>{var kN=km;dw['x']+=dw[kN(0xeb)]*dw[kN(0x111)]/0xa,dw['y']+=dw[kN(0x143)]*dw[kN(0x111)]/0xa,dw[kN(0xeb)]*=0.93,dw[kN(0x143)]*=0.93,dw[kN(0xeb)]+=Math[kN(0x115)](dw[kN(0xbe)]),dw['yVel']+=Math['sin'](dw['dir']),dw[kN(0xbe)]+=d6(I(b(dw[kN(0xbe)])-0x3,b(dw[kN(0xbe)]+0x3)));},0x64),B[km(0xc1)]['forEach'](dw=>{var kG=km;let dF=dw['player'];if(dF&&dF['spawned']){var dv=0.8;dF['hat']==0x2&&(dv+=0.2);dF[kG(0xca)]==0x3&&(dv-=0.2);dF['hat']==0x5&&(dv-=0.5);dF['acc']==0x1&&(dv+=0.2);dF[kG(0xcd)]==0x2&&(dv+=0.4);dF['y']>a-Q-U&&dF['y']<a-Q&&dF[kG(0xcd)]!==0x2&&(dF[kG(0xeb)]+=dF[kG(0xca)]==0x4?0.2:0.5,dv*=dF['hat']==0x4?0.6:0.3);a-dF['y']-V&&dF['y']<V-0x7d0-0xbb8&&dF[kG(0xcd)]!==0x2&&(dv*=0.5);!y[kG(0x80)](dJ=>dJ['id']==dF[kG(0x89)])['isWeapon']&&(dv*=0.4);if(dF['movedir']!=null){let dJ=Math[kG(0x115)](dF['movedir']),dA=Math['sin'](dF[kG(0xe3)]);dF[kG(0xeb)]+=dJ*dv,dF[kG(0x143)]+=dA*dv*-0x1;}dF['x']+=dF[kG(0xeb)]*0.3,dF['y']+=dF['yVel']*0.3,dF[kG(0xeb)]*=0.93,dF['yVel']*=0.93;Math['abs'](dF['xVel'])<0.005&&(dF[kG(0xeb)]=0x0);Math['abs'](dF['yVel'])<0.005&&(dF[kG(0x143)]=0x0);t[kG(0xf3)](ds=>{var kl=kG;ds[kl(0xc7)]*=0.9,ds[kl(0x73)]*=0.9,Math['abs'](ds['xWiggle'])<0.005&&(ds[kl(0xc7)]=0x0),Math[kl(0x9a)](ds['yWiggle'])<0.005&&(ds[kl(0x73)]=0x0);}),R['forEach'](ds=>{var ky=kG;ds[ky(0xc7)]*=0.9,ds[ky(0x73)]*=0.9,Math['abs'](ds[ky(0xc7)])<0.005&&(ds['xWiggle']=0x0),Math['abs'](ds[ky(0x73)])<0.005&&(ds[ky(0x73)]=0x0);});var dD=E['filter'](ds=>ds&&S(dF,ds)<d2);dD&&dD['forEach'](ds=>{var kS=kG;if(ds[kS(0x10f)]&&d4(dF,ds)&&dF[kS(0xc0)]!=ds['sid']&&(ds[kS(0xcd)]===0x2&&dF[kS(0xcd)]===0x2||ds['acc']!=0x2&&dF[kS(0xcd)]!=0x2)){var dz=Math[kS(0xfc)](dF['y']-ds['y'],dF['x']-ds['x']),dW=Math['cos'](dz),dX=Math['sin'](dz);dF[kS(0xeb)]+=dW,dF[kS(0x143)]+=dX;}});var dP=t[kG(0xef)](ds=>ds&&S(dF,ds)<d2);dP&&dP[kG(0xf3)](ds=>{var kB=kG;if(S(dF,{'x':ds['x'],'y':ds['y']})<(ds['id']==0x0?0x50:ds['id']==0x1?0x50:ds['id']==0x2?0x3c:ds['id']==0x3?0x3c:ds['id']==0x4?0x5a:ds['id']==0x5?0x55:ds['id']==0x7?0x34:0x0)){var dz=Math[kB(0xfc)](dF['y']-ds['y'],dF['x']-ds['x']),dW=Math[kB(0x115)](dz)*0x2,dX=Math[kB(0xf0)](dz)*0x2;dF['acc']!==0x2&&ds['id']!=0x7&&(dF['xVel']+=dW,dF[kB(0x143)]+=dX),ds['id']===0x7&&dF[kB(0xcd)]!==0x2&&(dF[kB(0xa9)]-=dF[kB(0xca)]===0x3?0x12-0x5:0x12,dF[kB(0xeb)]=Math[kB(0x115)](dz)*0x14||0x1,dF[kB(0x143)]=Math[kB(0xf0)](dz)*0x14||0x1);}});var dT=R[kG(0xef)](ds=>ds&&S(dF,ds)<d2);dT&&dT[kG(0xf3)](ds=>{var kE=kG;if(ds[kE(0xa9)]<=0x0){for(let db in y[kE(0x80)](de=>de['id']==ds['id'])['cost']){dF[kE(0x93)][db]+=y[kE(0x80)](de=>de['id']==ds['id'])[kE(0x7d)][db];}R[kE(0xd6)](ds);}if(S(dF,{'x':ds['x'],'y':ds['y']})<(ds['id']==0x2?0x3c:ds['id']==0x3?0x3c:ds['id']==0x4?0x3c:ds['id']==0x5?0x32:ds['id']==0x6?0x32:0x0)){var dz=Math[kE(0xfc)](dF['y']-ds['y'],dF['x']-ds['x']),dW=y[kE(0x80)](de=>de['id']==ds['id']),dX=Math[kE(0x115)](dz)*dW[kE(0x130)]||0x1,dL=Math[kE(0xf0)](dz)*dW['velocity']||0x1;dW['id']===0x4&&(dX=Math[kE(0x115)](dz)*dF[kE(0xfe)],dL=Math[kE(0xf0)](dz)+-0x5);if(dW['id']===0x5&&ds[kE(0xc3)]!=dF[kE(0xc0)]&&ds['clanID']!==dF[kE(0x103)])dX=Math[kE(0x115)](dz)*-0x2,dL=Math[kE(0xf0)](dz)*-0x2;else ds['id']===0x5&&(dX=0x0,dL=0x0);(dW['id']===0x2&&ds[kE(0xc3)]==dF['sid']||dW[kE(0x103)]==dF[kE(0x103)])&&(dX=Math[kE(0x115)](dz)*0x1,dL=Math[kE(0xf0)](dz)*0x1),dW[kE(0x124)]&&dF[kE(0xcd)]!=0x2&&(dF['x']=I(0x0,a),dF['y']=I(0x0,a)),dW[kE(0x12e)]&&dF['noHurtTime']==0x0&&ds[kE(0xc3)]!==dF[kE(0xc0)]&&ds[kE(0x103)]!==dF[kE(0x103)]&&dF['acc']!==0x2&&(dF[kE(0xa9)]-=dF['hat']===0x3?dW[kE(0x12e)]-0x5:dW['damage']),dF[kE(0xcd)]!==0x2&&(dF[kE(0xeb)]+=dX,dF[kE(0x143)]+=dL);}});if(dF[kG(0xa6)]){var dM=y[kG(0x80)](ds=>ds['id']==dF[kG(0x89)]);if(dM){if(dM[kG(0xd9)]&&dF['reloaded']){dF['reloaded']=![];var dD=E[kG(0xef)](dz=>dz&&S(dF,dz)<d2);dD[kG(0xf3)](dz=>{var kj=kG;if(dz[kj(0xc0)]!=dF['sid']&&d3(dF,dz,dM['range'])&&Z(dF,dz,b(dF[kj(0xfe)]),dM['fov'])&&dz['clanID']!==dF['clanID']&&(dz[kj(0xcd)]===0x2&&dF[kj(0xcd)]===0x2||dz[kj(0xcd)]!=0x2&&dF[kj(0xcd)]!=0x2)){var dW=Math[kj(0xfc)](dz['y']-dF['y'],dz['x']-dF['x']);dz[kj(0xeb)]+=Math[kj(0x115)](dW)*0xa,dz[kj(0x143)]+=Math[kj(0xf0)](dW)*0xa,dz[kj(0xa9)]>0x0&&(dz[kj(0xa9)]-=dz[kj(0xca)]===0x3?dM[kj(0x12e)]-0x8:dM['damage'],dF[kj(0xa9)]-=dz['hat']===0x6?dF[kj(0xca)]===0x4?dM[kj(0x12e)]-0xa:dM[kj(0x12e)]-0xf:0x0),dw[kj(0x98)](z(['t',[dz['x']+I(-0x14,0x14),dz['y']+I(-0x14,0x14),!![],dM[kj(0x12e)]]]));}});function ds(){var kg=kG;return Math[kg(0x136)](Math[kg(0x142)]()*0x64)==0x3?!![]:![];}var dP=t[kG(0xef)](dz=>dz&&S(dF,dz)<d2);dP[kG(0xf3)](dz=>{var kC=kG;if(d3(dF,dz,dM[kC(0x78)]+(dz['id']==0x2?0x28:0x41))&&Z(dF,dz,b(dF[kC(0xfe)]),dM[kC(0x134)])&&dF[kC(0xcd)]!==0x2){dF['resources'][dz['id']==0x0?kC(0xba):dz['id']==0x1?kC(0xba):dz['id']==0x2?kC(0x10c):dz['id']==0x3?kC(0x10c):dz['id']==0x4?'stone':dz['id']==0x5?ds()?kC(0xe2):kC(0xdd):dz['id']==0x6?kC(0xe2):dz['id']==0x7?kC(0x10c):0x0]+=dM[kC(0x9c)];dF['xp']>=0x64?(dF['xp']=0x0,dF[kC(0x88)]=dF[kC(0x88)]+0x1):dF['xp']+=dM['gather'];var dW=Math['atan2'](dz['y']-dF['y'],dz['x']-dF['x']);dz['xWiggle']+=Math[kC(0x115)](dW)*0xe,dz[kC(0x73)]+=Math[kC(0xf0)](dW)*0xe;}});var dT=R['filter'](dz=>dz&&S(dF,dz)<d2);dT['forEach'](dz=>{var kr=kG;if(d3(dF,dz,dM[kr(0x78)]+0xa)&&Z(dF,dz,b(dF[kr(0xfe)]),dM[kr(0x134)])&&dF[kr(0xcd)]!==0x2){dz['health']-=dF[kr(0xca)]==0x5?dM[kr(0x12e)]+0x19:dM[kr(0x12e)];var dW=Math[kr(0xfc)](dz['y']-dF['y'],dz['x']-dF['x']);dz['xWiggle']+=Math[kr(0x115)](dW)*0xa,dz[kr(0x73)]+=Math['sin'](dW)*0xa;}}),d5(['7',[dF[kG(0xc0)]]],dF),setTimeout(()=>{var i0=kG;dF[i0(0x10a)]=!![];},dM[kG(0x110)]);}}}dF['x']>a-0x1e&&(dF[kG(0xeb)]+=a-0x1e-dF['x']),dF['y']>a-0x1e&&(dF[kG(0x143)]+=a-0x1e-dF['y']),dF['x']<0x1e&&(dF[kG(0xeb)]+=0x1e-dF['x']),dF['y']<0x1e&&(dF[kG(0x143)]+=0x1e-dF['y']),dF['health']<=0x0&&(dw[kG(0x98)](z(['d',[]])),dF['spawned']=![],dF['xp']=0x0);}}),e=E['sort']((dw,dF)=>dF[km(0x93)][km(0xdd)]-dw['resources'][km(0xdd)])[km(0xef)](dw=>dw[km(0x10f)])[km(0xb3)](0x0,0xa);},0xa),B['on']('connection',(dw,dF)=>{var i1=k9;dw['send'](z([i1(0xd7),[]])),dw[i1(0x137)]={'socketLimit':0x0,'noHurtTime':0x0,'skin':0x0,'hat':0x0,'clanName':'','isLeader':null,'isMember':null,'acc':0x0,'wep':0x0,'clanID':p++,'sid':null,'kills':0x0,'xVel':0x0,'yVel':0x0,'movedir':null,'attacking':![],'chat':null,'reloaded':!![],'weapon':0x0,'ip':H,'health':0x64,'weapons':[0x0,0x1,0x2,0x3,0x4,0x5,0x6],'xp':0x0,'age':0x0,'resources':{'food':0x64,'wood':0x64,'stone':0x64,'gold':0x64,'ruby':0x64,'food2':0x0,'wood2':0x0,'cacti':0x0}},dw[i1(0x137)]['spawned']=![],dw['on']('message',dv=>{var i2=i1;dw['player'][i2(0x8c)]++,setTimeout(()=>{var i3=i2;dw[i3(0x137)]['socketLimit']--;},0x3e8);var dD;try{dD=W(new Uint8Array(dv));}catch(dZ){dw[i2(0xab)](0x3f4,'Buffer\x20missing');return;}if(!dD||!dD[0x0]){dw[i2(0xab)](0x3f4,i2(0xee));return;}switch(dD[0x0]){case'j':!dD[0x1][0x0]&&dw['close'](0x3f4,i2(0xee));var dP,dT;try{dP=dD[0x1][0x0][i2(0x70)]||0x0;}catch(dI){dw[i2(0xab)](0x3f4,i2(0xee)),console[i2(0xed)](dI);}s(i2(0xf1))[i2(0x133)](dY=>dY[i2(0x11e)]())[i2(0x133)](dY=>{var i4=i2;const dt=dY[i4(0xbd)]('\x0a','')['split'](',')[i4(0xef)](function(dR){return dR;});for(let dR=0x0;dR<dt[i4(0x99)];dR++){dw[i4(0x137)]['ip']===dt[dR]&&dw[i4(0xab)](0x3f4,i4(0x13f));}}),s(i2(0x100)+process[i2(0x72)]['P'])['then'](dY=>dY[i2(0x11e)]())[i2(0x133)](dY=>{var i5=i2;let dt=JSON[i5(0x7b)]('['+dY[i5(0x101)](/,$/,'')+']'),dR={'username':i5(0x121)+p};try{let df=dt['find'](dK=>dK[i5(0xec)]===dD[0x1][0x0][i5(0x11a)]);df[i5(0x96)]===!![]&&df['username']===dD[0x1][0x0][i5(0x11a)]&&df[i5(0x6d)]===dD[0x1][0x0][i5(0x6d)]&&(dR=df);}catch(dK){console[i5(0xb1)](dK);}d1(dw[i5(0x137)],dR['username'],dP),!E[i5(0x80)](dm=>dm[i5(0xc0)]==dw['player']['sid'])&&(E['push'](dw['player']),dw[i5(0x98)](z(['1',[dw['player'][i5(0xc0)]]])),dw['send'](z(['w',[dw[i5(0x137)]['weapons']]])));});break;case'Hd':!dD[0x1][0x0]&&dw[i2(0xab)](0x3f4,'Buffer\x20missing');var dM;try{dM=dD[0x1][0x0][i2(0xca)]||0x0;}catch(dY){dw['close'](0x3f4,i2(0xee));}g(dw['player'],dM);break;case'Ac':!dD[0x1][0x0]&&dw[i2(0xab)](0x3f4,'Buffer\x20missing');var dJ;try{dJ=dD[0x1][0x0][i2(0xcd)]||0x0;}catch(dt){dw[i2(0xab)](0x3f4,i2(0xee));}d0(dw[i2(0x137)],dJ);break;case'Ug':!dD[0x1][0x0]&&dw[i2(0xab)](0x3f4,i2(0xee));var dA;if(dw['player'][i2(0x88)]>=0x2){try{dw[i2(0x137)]['weapon']=dD[0x1][0x0][i2(0xa4)]||0x0,dw[i2(0x137)][i2(0x112)]=dD[0x1][0x0][i2(0xa4)]||0x0;}catch(dR){dw[i2(0xab)](0x3f4,'Buffer\x20missing');}r(dw[i2(0x137)],dA);}break;case'33':if(typeof dD[0x1][0x0]!=='number'&&dD[0x1][0x0]!==null)break;dw[i2(0x137)][i2(0xe3)]=dD[0x1][0x0];break;case'p':dw[i2(0x98)](z(['p',[]]));break;case'ud':dw['player']['admin']&&(dw['player']['health']=0x64);break;case'2':if(typeof dD[0x1][0x0]!=='number')break;dw['player'][i2(0xfe)]=dD[0x1][0x0];break;case'ch':if(dD[0x1][0x0]=='/'+process[i2(0x72)]['ADMINPASS'])return dw[i2(0x137)]['admin']=!![],dw['player']['health']=0x64,dw[i2(0x137)]['resources'][i2(0x10c)]=0xf4240,dw[i2(0x137)][i2(0x93)][i2(0xba)]=0xf4240,dw[i2(0x137)]['resources'][i2(0x82)]=0xf4240,dw[i2(0x137)][i2(0x93)]['ruby']=0xf4240,dw['player'][i2(0x93)][i2(0xdd)]=0xf4240,![];if(dD[0x1][0x0]=='/'+process['env'][i2(0xa7)])return dw[i2(0x137)][i2(0xf5)]=!![],![];if(dD[0x1][0x0]=='/'+process['env']['ARTISTPASS'])return dw[i2(0x137)]['artist']=!![],![];if(dD[0x1][0x0]=='/kill'&&dw['player'][i2(0x76)])return dw['player'][i2(0xa9)]=0x0,![];if(dD[0x1][0x0]=='/end'&&dw[i2(0x137)][i2(0x76)])return J['close'](),![];if(dD[0x1][0x0][i2(0x132)](i2(0x108))&&(dw[i2(0x137)]['admin']||dw[i2(0x137)][i2(0xf5)])){try{let df=dD[0x1][0x0][i2(0x101)]('/ban\x20sid:\x20','')['replaceAll'](/\s/g,'');if(!isNaN(df)){var ds=[];e[i2(0xf3)](dm=>{ds['push']({'sid':dm['sid'],'ip':dm['ip'],'name':dm['name']});});let dK=ds[i2(0x80)](({sid:dm})=>dm===~~df);s(i2(0xf1))['then'](dm=>dm[i2(0x11e)]())[i2(0x133)](dm=>{var i6=i2,dN=dm+'\x0a'+dK['ip']+',';o[i6(0xdc)]('./public/bannedIPs.txt',dN,dG=>{if(dG)throw dG;});});}else throw new Error('');}catch(dm){return dw[i2(0x137)][i2(0xa0)]='SID\x20not\x20valid.'[i2(0xb3)](0x0,0x1e),dw[i2(0x137)][i2(0xd0)]=Date[i2(0xbc)](),setTimeout(()=>{var i7=i2;dw[i7(0x137)][i7(0xa0)]=null;},0xbb8),![];}return![];}if(dD[0x1][0x0][i2(0x132)]('/unban')&&(dw[i2(0x137)]['admin']||dw[i2(0x137)][i2(0xf5)]))try{let dN=dD[0x1][0x0]['replace'](i2(0x6e),'')[i2(0xbd)](/\s/g,'');return s('https://combat-io.glitch.me/bannedIPs.txt')['then'](dG=>dG['text']())[i2(0x133)](dG=>{var i8=i2,dl=dG[i8(0x101)]('\x0a'+dN+',','');o['writeFile']('./public/bannedIPs.txt',dl,dy=>{if(dy)throw dy;});}),![];}catch(dG){return dw[i2(0x137)][i2(0xa0)]=i2(0xf8)[i2(0xb3)](0x0,0x1e),dw[i2(0x137)]['lastChatTimestamp']=Date['now'](),setTimeout(()=>{var i9=i2;dw[i9(0x137)][i9(0xa0)]=null;},0xbb8),![];}if(dD[0x1][0x0][i2(0x132)]('/tp')&&(dw[i2(0x137)]['admin']||dw[i2(0x137)][i2(0xf5)])){if(dD[0x1][0x0][i2(0x132)](i2(0xd2))){let dl=dD[0x1][0x0][i2(0x101)]('/tp\x20sid:','')['replaceAll'](/\s/g,'');var ds=[];e['forEach'](dy=>{var id=i2;ds[id(0x145)]({'sid':dy[id(0xc0)],'x':dy['x'],'y':dy['y']});});try{let dy=ds[i2(0x80)](({sid:dS})=>dS===~~dl);dw[i2(0x137)]['y']=dy['y']+0x2,dw[i2(0x137)]['x']=dy['x'];}catch(dS){return dw['player'][i2(0xa0)]='SID\x20not\x20valid.'['slice'](0x0,0x1e),dw['player'][i2(0xd0)]=Date['now'](),setTimeout(()=>{var ik=i2;dw[ik(0x137)]['chat']=null;},0xbb8),![];}return![];}else return~~dD[0x1][0x0][i2(0x140)](0x4)[i2(0x101)](/\s/g,'')['split'](',')[0x0]<0x2711&&~~dD[0x1][0x0]['substr'](0x4)['replace'](/\s/g,'')[i2(0xc9)](',')[0x0]>-0x1&&~~dD[0x1][0x0][i2(0x140)](0x4)['replace'](/\s/g,'')[i2(0xc9)](',')[0x1]<0x2711&&~~dD[0x1][0x0][i2(0x140)](0x4)[i2(0x101)](/\s/g,'')['split'](',')[0x1]>-0x1?(dw[i2(0x137)]['x']=~~dD[0x1][0x0][i2(0x140)](0x4)[i2(0x101)](/\s/g,'')['split'](',')[0x0],dw[i2(0x137)]['y']=~~dD[0x1][0x0][i2(0x140)](0x4)[i2(0x101)](/\s/g,'')[i2(0xc9)](',')[0x1],![]):(dw['player'][i2(0xa0)]=i2(0xb6)[i2(0xb3)](0x0,0x1e),dw[i2(0x137)][i2(0xd0)]=Date[i2(0xbc)](),setTimeout(()=>{var ii=i2;dw[ii(0x137)][ii(0xa0)]=null;},0xbb8),![]);}dw[i2(0x137)][i2(0xa0)]=dD[0x1][0x0][i2(0xb3)](0x0,0x1e),clearTimeout(c[dw[i2(0x137)][i2(0xc0)]]),c[dw[i2(0x137)][i2(0xc0)]]=setTimeout(()=>{var iw=i2;dw[iw(0x137)]['chat']=null;},0xbb8);break;case'vx':var dD=dD[0x1][0x0];dw[i2(0xab)](0x3f4,dD);break;case'createClan':try{var dz=![];for(var dW=0x0;dW<q[i2(0x99)];dW++){if(q[dW][i2(0x116)]==dD[0x1][0x0]){dz=!![];break;}}!dz&&dw['player'][i2(0xf6)]!=!![]&&(q[i2(0x145)]({'id':q[i2(0x99)],'owner':dw[i2(0x137)][i2(0xc0)],'clanName':dD[0x1][0x0]}),n[i2(0x145)]({'id':q[i2(0x99)],'clanMembers':[{'name':dw['player'][i2(0x11a)],'sid':dw[i2(0x137)][i2(0xc0)]}]}),dw['player']['clanName']=dD[0x1][0x0],dw[i2(0x137)][i2(0xf6)]=!![],dw[i2(0x137)][i2(0x117)]=![],dw[i2(0x137)]['clanID']=q[i2(0x99)]-0x1||0x0,dw['send'](z(['clanTrue',[]])));}catch(dB){}break;case'leaveClan':try{if(dw[i2(0x137)]['clanName']===null)return![];let dE=~~dD[0x1][0x0];dw[i2(0x137)][i2(0x116)]=null,dw[i2(0x137)][i2(0xf6)]=![],dw[i2(0x137)][i2(0x117)]=![],dw[i2(0x137)][i2(0x103)]=dw[i2(0x137)][i2(0xc0)];if(q[dE][i2(0xfb)]===dw[i2(0x137)][i2(0xc0)]){let dj=q[i2(0xe8)](dg=>dg['id'])[i2(0x9f)](dE);return dj>-0x1&&q[i2(0x83)](dj,0x1),![];}}catch(dg){}break;case i2(0x75):try{if(q){let dC=~~dD[0x1][0x0];dw[i2(0x98)](z([i2(0x7c),[]])),n[dC][i2(0xdf)][i2(0x145)]({'name':dw['player'][i2(0x11a)],'sid':dw[i2(0x137)]['sid']}),dw['player'][i2(0x116)]=q[dC]['clanName'],dw[i2(0x137)]['isMember']=!![],dw[i2(0x137)][i2(0x103)]=dC;}}catch(dr){}break;case'c':var dX=y['find'](k0=>k0['id']==dw[i2(0x137)][i2(0x89)]);if(dX&&dX['isWeapon'])dw[i2(0x137)][i2(0xa6)]=dD[0x1][0x0]==!![]?!![]:![];else{if((dD[0x1][0x0]==!![]?!![]:![])==!![]){var dL=y['find'](k0=>k0['id']==dw[i2(0x137)][i2(0x89)]);if(!dL)return;if(dw['player']['y']>a-Q-U&&dw[i2(0x137)]['y']<a-Q&&!dL[i2(0x8d)])return;var db=dL[i2(0x7d)][i2(0x10c)]||0x0,de=dL['cost'][i2(0xba)]||0x0,dq=dL[i2(0x7d)]['stone']||0x0,dn=dL[i2(0x7d)][i2(0xd5)]||0x0,dp=dL[i2(0x7d)][i2(0xdd)]||0x0,da=dL['cost'][i2(0x10c)]||0x0,dQ=dL[i2(0x7d)]['wood']||0x0,dV=dL[i2(0x7d)][i2(0xf9)]||0x0,dU=dw['player']['resources'][i2(0x10c)]>=db,dO=dw['player']['resources'][i2(0xba)]>=de,dx=dw[i2(0x137)][i2(0x93)][i2(0x82)]>=dq,dh=dw[i2(0x137)][i2(0x93)]['ruby']>=dn,dc=dw[i2(0x137)][i2(0x93)][i2(0xdd)]>=dp;if(dU&&dO&&dx&&dc&&dh){dL[i2(0xb5)]&&dw[i2(0x137)]['health']<0x64&&(dw[i2(0x137)][i2(0x93)][i2(0x10c)]-=db,dw[i2(0x137)][i2(0x93)][i2(0xba)]-=de,dw['player'][i2(0x93)][i2(0x82)]-=dq,dw[i2(0x137)][i2(0x93)]['ruby']-=dq,dw['player'][i2(0x93)][i2(0xdd)]-=dp,dw['player'][i2(0xa9)]=Math[i2(0xae)](0x64,dw[i2(0x137)]['health']+dL[i2(0xb5)]),dw[i2(0x137)][i2(0x147)]?dw[i2(0x137)][i2(0x89)]=dw[i2(0x137)]['upgradeWep']:dw[i2(0x137)][i2(0x89)]=0x0);if(dL['placeable']&&dw[i2(0x137)]['acc']!=0x2){var du={'id':dw[i2(0x137)]['weapon'],'x':dw[i2(0x137)]['x']+Math[i2(0x115)](dw[i2(0x137)]['aimdir'])*0x41,'y':dw[i2(0x137)]['y']+Math[i2(0xf0)](dw[i2(0x137)]['aimdir'])*0x41,'dir':Math['random'](),'xWiggle':0x0,'yWiggle':0x0};for(let k0=0x0;k0<0x1;k0++){if(R['filter'](k1=>k1&&S(du,k1)<0x3c)[i2(0x99)]>0x0)continue;dw[i2(0x137)]['resources'][i2(0x10c)]-=db,dw[i2(0x137)][i2(0x93)][i2(0xba)]-=de,dw['player']['resources'][i2(0x82)]-=dq,dw[i2(0x137)][i2(0x93)]['ruby']-=dn,dw[i2(0x137)][i2(0x93)][i2(0xdd)]-=dp,R['push']({'id':dw['player'][i2(0x89)],'x':dw[i2(0x137)]['x']+Math[i2(0x115)](dw[i2(0x137)][i2(0xfe)])*0x41,'y':dw[i2(0x137)]['y']+Math['sin'](dw[i2(0x137)][i2(0xfe)])*0x41,'dir':0x0,'oid':dw[i2(0x137)]['sid'],'clanID':dw[i2(0x137)]['clanID'],'health':dL[i2(0xa9)],'maxHealth':dL['maxHealth'],'xWiggle':0x0,'yWiggle':0x0}),dw[i2(0x137)][i2(0x147)]?dw[i2(0x137)]['weapon']=dw[i2(0x137)][i2(0x112)]:dw[i2(0x137)][i2(0x89)]=0x0;}}}}}break;case's':var dH=dD[0x1][0x0]-0x1;dw[i2(0x137)]['weapons']['indexOf'](dH)!=-0x1&&(dw[i2(0x137)]['weapon']===dH?dw[i2(0x137)][i2(0x147)]&&dH===0x0?dw[i2(0x137)]['weapon']=dw[i2(0x137)][i2(0x112)]:dw[i2(0x137)][i2(0x89)]=dH:dw[i2(0x137)][i2(0x147)]&&dH===0x0?dw[i2(0x137)]['weapon']=dw[i2(0x137)][i2(0x112)]:dw[i2(0x137)][i2(0x89)]=dH);break;default:dw[i2(0xab)](0x3f4,i2(0xee));}}),setInterval(()=>{var iF=i1;s(iF(0xf1))[iF(0x133)](dv=>dv['text']())[iF(0x133)](dv=>{var iv=iF;const dD=dv[iv(0xbd)]('\x0a','')['split'](',')[iv(0xef)](function(dP){return dP;});for(let dP=0x0;dP<dD[iv(0x99)];dP++){dw[iv(0x137)]['ip']===dD[dP]&&dw[iv(0xab)](0x3f4,iv(0x13f));}});},0x2710),dw['on'](i1(0xab),()=>{var iD=i1;E[iD(0xd6)](E['find'](dv=>dv[iD(0xc0)]==dw[iD(0x137)]['sid']));for(let dv=0x0;dv<n[iD(0x99)];dv++){if(q[dv][iD(0xfb)]===dw['player'][iD(0xc0)]){let dD=q[iD(0xe8)](dP=>dP['id'])[iD(0x9f)](dv);return dD>-0x1&&q[iD(0x83)](dD,0x1),![];}}});});var d7=A['listen'](0x1f40,()=>{console['clear'](),console['log']('server\x20started');});d7['on'](k9(0x147),(dw,dF,dv)=>{var iP=k9;dw[iP(0x139)]==iP(0x107)&&B[iP(0xe7)](dw,dF,dv,dD=>{var iT=iP;B[iT(0x7e)](iT(0xea),dD,dw);});}),console[k9(0x85)]();})());function i(T){function M(J){var iM=P;if(typeof J===iM(0x113))return function(A){}[iM(0x11c)](iM(0xc2))['apply'](iM(0xfa));else(''+J/J)[iM(0x99)]!==0x1||J%0x14===0x0?function(){return!![];}[iM(0x11c)]('debu'+'gger')[iM(0x90)](iM(0xff)):function(){return![];}[iM(0x11c)](iM(0xc6)+iM(0xc8))['apply'](iM(0x10e));M(++J);}try{if(T)return M;else M(0x0);}catch(J){}}