(function(Z,j){var a3=l,g=Z();while(!![]){try{var O=parseInt(a3(0x188))/0x1+parseInt(a3(0x1ed))/0x2+-parseInt(a3(0x1de))/0x3*(-parseInt(a3(0x1a0))/0x4)+parseInt(a3(0x243))/0x5+-parseInt(a3(0x20a))/0x6*(-parseInt(a3(0x1b7))/0x7)+parseInt(a3(0x1c9))/0x8*(parseInt(a3(0x1f1))/0x9)+-parseInt(a3(0x1ee))/0xa*(parseInt(a3(0x1b6))/0xb);if(O===j)break;else g['push'](g['shift']());}catch(J){g['push'](g['shift']());}}}(x,0x33dd2));var X=(function(){var Z=!![];return function(j,g){var O=Z?function(){var a4=l;if(g){var J=g[a4(0x229)](j,arguments);return g=null,J;}}:function(){};return Z=![],O;};}()),p=X(this,function(){var a5=l;return p[a5(0x1d0)]()[a5(0x1aa)]('(((.+)+)+)+$')['toString']()[a5(0x220)](p)[a5(0x1aa)](a5(0x230));});p();var s=(function(){var Z=!![];return function(j,g){var O=Z?function(){var a6=l;if(g){var J=g[a6(0x229)](j,arguments);return g=null,J;}}:function(){};return Z=![],O;};}());(function(){s(this,function(){var a7=l,Z=new RegExp(a7(0x1cd)),j=new RegExp(a7(0x1c6),'i'),g=z(a7(0x237));!Z[a7(0x1ae)](g+a7(0x245))||!j[a7(0x1ae)](g+a7(0x21d))?g('0'):z();})();}());function x(){var zw=['clanName','constructor','json','length','Cow','post','body','isLeader','Trap','cos','apply','sendFile','Spike','Soldier\x20Hat','PlayerGold','connection','Short\x20Sword','(((.+)+)+)+$','clients','Buffer\x20missing','readFile','accs','</span>\x20</div>\x20<div\x20class=\x22playerScore1\x22>\x20<i\x20class=\x22third\x22></i>\x20<span>','parse','init','PlayerOldY','writeFile','sid','SID\x20not\x20valid.','food','reload','TeleportPad','upgradeWep','cacti','clanMem','create','2096685aPjDVW','split','chain','/kill','CrashBreaker\x20Hat','PlayerName','filter','weapons','isMember','</span>\x20</div>\x20<div\x20class=\x22playerScore2\x22>\x20<i></i>\x20<span>','sid:','lastChatTimestamp','status','player','action','aimdir','spawned','acc','noHurtTime','leaveClan','map','assign','owned','https://combat-io.glitch.me','health','/ban','movedir','loggedIn','wep','env','push','ADMINPASS','423225qlWuWy','teleport','Orange','hats','public','login','bind','/data','utf-8','trace','clanTrue','x-forwarded-for','</span>\x20<span>','velocity','\x0a\x20}','dir','PlayerOldX','get','indexOf','\x0a\x20\x22','name','clear','sendStatus','attacking','43916flyjSZ','skin','fov','send','wood','/Terms','Barbarian\x20Hat','/ban\x20sid:\x20','debu','artist','search','placeInRiver','splice','New\x20User\x20Appeared!','test','speed','/Version','\x0a\x20{\x0a\x20','number','headers','floor','password2','16939461JDcSgR','49hMezsh','age','now','God\x20Wings','Shadow\x20Wings','kills','hat','clanID','gold','close','find','/app/public/terms.txt','\x22,\x0a','/app/public/version.txt','emit','\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','static','ARTISTPASS','1307512vZmbIn','Ruby','Booster','isWeapon','function\x20*\x5c(\x20*\x5c)','socketLimit','substr','toString','No\x20Acc','gger','random','range','sin','replaceAll','x\x20or\x20y\x20value\x20too\x20high\x20or\x20low','removeItem','xWiggle','abs','upgrade','includes','prototype','39oZmHgS','clanz','urlencoded','catch','ruby','stone','/tp','cost','yes','pow','use','gather','Booster\x20Hat','You\x20are\x20banned.','reloaded','678814sapbHv','10IUOgEj','/leaderboards','xVel','9WkQSmK','verification','log','username','sqrt','chat','console','clanMembers','heal','delete','warn','Fish\x20Hat','password','replace','No\x20Hat','Tool\x20Hammer','maxHealth','url','admin','slice','yWiggle','atan2','info','</span>\x20</div>\x20<div\x20class=\x22playerScore1\x22>\x20<i></i>\x20<span>','text','226500GwIxEo','sort','oid','/api/players','/unban','MODPASS','---','stringify','damage','yVel','listen','resources','/unban\x20','logout','forEach','then','mod','owner','return\x20(function()\x20','input','weapon'];x=function(){return zw;};return x();}var a=(function(){var Z=!![];return function(j,g){var O=Z?function(){var a8=l;if(g){var J=g[a8(0x229)](j,arguments);return g=null,J;}}:function(){};return Z=![],O;};}()),n=a(this,function(){var an=l,Z=function(){var a9=l,F;try{F=Function(a9(0x21c)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(T){F=window;}return F;},j=Z(),g=j[an(0x1f7)]=j[an(0x1f7)]||{},O=[an(0x1f3),an(0x1fb),an(0x207),'error','exception','table',an(0x191)];for(var J=0x0;J<O[an(0x222)];J++){var B=a['constructor'][an(0x1dd)]['bind'](a),w=O[J],N=g[w]||B;B['__proto__']=a[an(0x18e)](a),B[an(0x1d0)]=N[an(0x1d0)]['bind'](N),g[w]=B;}});function l(n,a){var z=x();return l=function(s,p){s=s-0x176;var X=z[s];return X;},l(n,a);}n(),((()=>{var aa=l;const Z=require('express'),g=require('body-parser'),O=require('ws'),J=Z(),B=require('fs'),w=require('node-fetch'),{encode:N,decode:F}=require('@msgpack/msgpack'),T={0x0:0x14b4,0x1:0x1194,0x2:0x147b,0x4:0x11ab,0x5:0x15e9,0x6:0x125c,0x7:0x127f,0x8:0x12ea,0x9:0x131e,0xa:0x137f,0xb:0x141a,0xc:0x13c4,0xd:0x1443,0xe:0x149b};J[aa(0x1e8)](g[aa(0x1e0)]({'extended':!![]})),J[aa(0x1e8)](g['json']()),J[aa(0x1e8)](Z[aa(0x1c7)](aa(0x18c))),(J[aa(0x224)](aa(0x18f),(nn,na)=>{var az=aa;B[az(0x233)]('.'+process[az(0x185)]['P'],az(0x190),(nz,ns)=>{var as=az;let np=JSON[as(0x236)]('['+ns[as(0x1fe)](/,$/,'')+']'),nX=np[as(0x1c1)](nl=>nl['username']==nn['body'][as(0x1f4)])||![],nx=Object[as(0x17d)](nn[as(0x225)],{'loggedIn':![]});if(nz)throw nz;if(nn[as(0x225)][as(0x202)]==as(0x242))try{if(!(nn[as(0x225)][as(0x1f4)]||nn['body']['password']||nn[as(0x225)][as(0x1b5)]))na[as(0x19e)](0x194);else{if(np['find'](nl=>nl[as(0x1f4)]===nn['body'][as(0x1f4)])||![])na[as(0x19e)](0x191);else{if(!/^[a-zA-Z0-9]+$/[as(0x1ae)](nn['body'][as(0x1f4)]))na[as(0x19e)](0x192);else{if(nn['body'][as(0x1fd)]!==nn['body'][as(0x1b5)])na[as(0x19e)](0x193);else nn[as(0x225)]['username'][as(0x222)]>0xf?na[as(0x19e)](0x194):(na[as(0x19e)](0xc8),w(as(0x17f)+process['env']['P'])[as(0x219)](nl=>nl['text']())[as(0x219)](nl=>{var ap=as;let nZ=JSON['stringify'](nx),nj=nl+nZ[ap(0x1fe)](/",/g,ap(0x1c3))[ap(0x1fe)](/\n"/g,ap(0x19b))[ap(0x1fe)](/^{/,'\x0a\x20{\x0a\x20')[ap(0x1fe)](/}$/,ap(0x196))+',';B['writeFile']('.'+process[ap(0x185)]['P'],nj,ng=>{if(ng)throw ng;});}));}}}}catch(nl){console[as(0x1f3)](nl),na[as(0x19e)](0x1f9);}if(nn[as(0x225)]['url']==as(0x18d))try{nn[as(0x225)][as(0x1f4)]===nX[as(0x1f4)]&&nn['body'][as(0x1fd)]===nX['password']?(na['sendStatus'](0xc8),w('https://combat-io.glitch.me'+process['env']['P'])[as(0x219)](nZ=>nZ[as(0x209)]())[as(0x219)](nZ=>{var aX=as;let nj=np[aX(0x249)](nJ=>nJ[aX(0x1f4)]!==nn[aX(0x225)][aX(0x1f4)]&&nJ[aX(0x1fd)]!==nn[aX(0x225)][aX(0x1fd)]),ng=np[aX(0x1c1)](nJ=>nJ['username']===nn['body'][aX(0x1f4)]&&nJ[aX(0x1fd)]===nn[aX(0x225)][aX(0x1fd)]);ng['loggedIn']=!![],nj['push'](ng);let nO=JSON[aX(0x211)](nj)['replace'](/]/g,'')[aX(0x1fe)](/\[/g,'')[aX(0x1fe)](/",/g,aX(0x1c3))[aX(0x1fe)](/\n"/g,'\x0a\x20\x22')[aX(0x1fe)](/^{/,'\x0a\x20{\x0a\x20')[aX(0x1fe)](/}$/,aX(0x196))+',';B[aX(0x239)]('.'+process[aX(0x185)]['P'],nO,nJ=>{if(nJ)throw nJ;}),console[aX(0x1f3)](nO);})):na[as(0x19e)](0x191);}catch(nZ){console[as(0x1f3)](nZ),na[as(0x19e)](0x1f9);}if(nn['body']['url']==as(0x217))try{let nj=np[as(0x249)](nO=>nO['username']!==nn['body'][as(0x1f4)]&&nO[as(0x1fd)]!==nn[as(0x225)][as(0x1fd)]),ng=np[as(0x1c1)](nO=>nO['username']===nn['body'][as(0x1f4)]&&nO[as(0x1fd)]===nn[as(0x225)]['password']);ng[as(0x183)]==!![]&&nn['body']['username']===nX[as(0x1f4)]&&nn[as(0x225)][as(0x1fd)]===nX[as(0x1fd)]?(na[as(0x19e)](0xc8),ng[as(0x183)]=![],nj[as(0x186)](ng),w(as(0x17f)+process['env']['P'])[as(0x219)](nO=>nO[as(0x209)]())[as(0x219)](nO=>{var ax=as;let nJ=np[ax(0x249)](nN=>nN[ax(0x1f4)]!==nn[ax(0x225)][ax(0x1f4)]&&nN[ax(0x1fd)]!==nn['body'][ax(0x1fd)]),nB=np[ax(0x1c1)](nN=>nN['username']===nn[ax(0x225)]['username']&&nN[ax(0x1fd)]===nn[ax(0x225)]['password']);nB['loggedIn']=![],nJ['push'](nB);let nw=JSON['stringify'](nJ)[ax(0x1fe)](/]/g,'')[ax(0x1fe)](/\[/g,'')[ax(0x1fe)](/",/g,ax(0x1c3))['replace'](/\n"/g,ax(0x19b))['replace'](/^{/,ax(0x1b1))[ax(0x1fe)](/}$/,'\x0a\x20}')+',';B[ax(0x239)]('.'+process[ax(0x185)]['P'],nw,nN=>{if(nN)throw nN;});})):na[as(0x19e)](0x191);}catch(nO){console[as(0x1f3)](nO),na[as(0x19e)](0x1f9);}if(nn['body'][as(0x202)]==as(0x1fa))try{let nJ=np[as(0x249)](nw=>nw[as(0x1f4)]!==nn[as(0x225)][as(0x1f4)]&&nw[as(0x1fd)]!==nn['body'][as(0x1fd)]),nB=np[as(0x1c1)](nw=>nw['username']===nn[as(0x225)][as(0x1f4)]&&nw[as(0x1fd)]===nn[as(0x225)][as(0x1fd)]);if(nn[as(0x225)][as(0x1f2)]['toLowerCase']()!==as(0x1e6))na['sendStatus'](0x192);else nB[as(0x183)]==!![]&&nn[as(0x225)][as(0x1f4)]===nX['username']&&nn[as(0x225)]['password']===nX[as(0x1fd)]?(na[as(0x19e)](0xc8),w(as(0x17f)+process['env']['P'])[as(0x219)](nw=>nw[as(0x209)]())[as(0x219)](nw=>{var al=as;let nN=np['filter'](nT=>nT[al(0x1f4)]!==nn[al(0x225)]['username']&&nT[al(0x1fd)]!==nn[al(0x225)][al(0x1fd)]),nF=JSON['stringify'](nN)[al(0x1fe)](/]/g,'')['replace'](/\[/g,'')['replace'](/",/g,al(0x1c3))[al(0x1fe)](/\n"/g,al(0x19b))[al(0x1fe)](/^{/,'\x0a\x20{\x0a\x20')[al(0x1fe)](/}$/,al(0x196))+',';B['writeFile']('.'+process['env']['P'],nF,nT=>{if(nT)throw nT;});})):na['sendStatus'](0x191);}catch(nw){console[as(0x1f3)](nw),na[as(0x19e)](0x1f9);}});}),J['use'](process['env']['P'],function(nn,na){var aZ=aa;na[aZ(0x22a)](__dirname+process[aZ(0x185)]['P']);}),J[aa(0x1e8)]('/Privacy',function(nn,na){var aj=aa;na[aj(0x22a)]('/app/public/privacy.txt');}),J[aa(0x1e8)](aa(0x1ef),function(nn,na){var ag=aa;B['readFile']('.'+process[ag(0x185)]['H'],ag(0x190),(nz,ns)=>{var aO=ag;let np=JSON[aO(0x236)]('['+ns[aO(0x1fe)](/,$/,'')+']'),nX=np[aO(0x20b)](function(nx,nl){var aJ=aO;return nx[aJ(0x22d)]<nl[aJ(0x22d)]?0x1:-0x1;}||aO(0x210))[aO(0x204)](0x0,0xa);w('https://combat-io.glitch.me'+process['env']['H'])[aO(0x219)](nx=>nx[aO(0x209)]())[aO(0x219)](nx=>{var aB=aO;na[aB(0x24f)](0xc8)[aB(0x1a3)]('<!DOCTYPE\x20html>\x20<html\x20lang=\x22en\x22>\x20<head>\x20<meta\x20charset=\x22UTF-8\x22\x20/>\x20<meta\x20http-equiv=\x22X-UA-Compatible\x22\x20content=\x22IE=edge\x22\x20/>\x20<meta\x20name=\x22viewport\x22\x20content=\x22minimal-ui,\x20width=device-width,\x20height=device-height,\x20initial-scale=1.0,\x20shrink-to-fit=no,\x20viewport-fit=cover,\x20user-scalable=no,\x20minimum-scale=1.0,\x20maximum-scale=1.0\x22\x20/>\x20<meta\x20name=\x22theme-color\x22\x20content=\x22#1d9300\x22\x20/>\x20<meta\x20name=\x22keywords\x22\x20content=\x22ComBat,\x20ComBat.io,\x20ComBatio,\x20MooMoo.io,\x20Taming.io,\x20Sploop.io,\x20Lostworld.io,\x20iogames,\x20.iogames,\x20io,\x20.io,\x202d\x20game,\x20survival\x22\x20/>\x20<meta\x20name=\x22description\x22\x20content=\x22A\x20game\x20where\x20you\x20can\x20collect\x20resources,\x20compete\x20against\x20other\x20players,\x20and\x20get\x20the\x20highest\x20score\x20on\x20the\x20leaderboards!\x22\x20/>\x20<!--\x20<meta\x20name=\x22robots\x22\x20content=\x22index,\x20follow\x22>\x20-->\x20<!--\x20<meta\x20name=\x22googlebot\x22\x20content=\x22index,\x20follow\x22>\x20-->\x20<!--\x20<meta\x20name=\x22revisit-after\x22\x20content=\x2214\x20days\x22>\x20-->\x20<title>ComBat.io\x20-\x20The\x20new\x20.IO\x20Game!</title>\x20<meta\x20property=\x22og:image\x22\x20content=\x22https://cdn.glitch.global/069d62dd-5ac4-4928-9200-7250f0cc75c3/ComBat.io.png?v=1657391740707\x22\x20/>\x20<link\x20id=\x22favicon\x22\x20rel=\x22icon\x22\x20href=\x22https://cdn.glitch.global/069d62dd-5ac4-4928-9200-7250f0cc75c3/Favicon.png?v=1662344798646\x22\x20type=\x22image/x-icon\x22\x20/>\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22/main.css\x22\x20/>\x20<script\x20src=\x22https://rawgit.com/kawanet/msgpack-lite/master/dist/msgpack.min.js\x22\x20defer></script>\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\x22\x20/>\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://forkaweso.me/Fork-Awesome/assets/fork-awesome/css/fork-awesome.css\x22\x20/>\x20<link\x20rel=\x22preconnect\x22\x20href=\x22https://fonts.googleapis.com\x22\x20/>\x20<link\x20rel=\x22preconnect\x22\x20href=\x22https://fonts.gstatic.com\x22\x20crossorigin\x20/>\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://fonts.googleapis.com/css2?family=Hammersmith+One\x22\x20/>\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://fonts.googleapis.com/icon?family=Material+Icons\x22\x20/>\x20</head>\x20<body>\x20<div\x20class=\x22backgroundImg\x22\x20id=\x22backgroundImg\x22></div>\x20<div\x20class=\x22navicon\x22\x20id=\x22navbar\x22>\x20<span\x20class=\x22icon\x20material-icons\x20md-2-rem\x22\x20id=\x22icon\x22>\x20menu\x20</span>\x20<!--\x20<span\x20class=\x22icon\x20material-icons\x20md-36\x22\x20id=\x22icon\x22>&#xE5CD;\x20&#xE5D2;</span>\x20-->\x20<!--\x20<span\x20class=\x22icon\x22\x20id=\x22icon\x22>≡</span>\x20-->\x20<!--\x20<span\x20class=\x22icon\x22\x20id=\x22icon\x22>☓</span>\x20-->\x20</div>\x20<div\x20class=\x22topMenu\x22\x20id=\x22menu\x22>\x20<a\x20class=\x22main\x22\x20onclick=\x22window.open(\x27https://combat-io.glitch.me/\x27)\x22><span\x20class=\x22mainText\x22>Combat.io</span></a>\x20<!--\x20<a\x20class=\x22nextLine\x22></a>\x20-->\x20<a\x20href=\x22/Version\x22\x20target=\x22_blank\x22>Version</a>\x20<a\x20href=\x22https://discord.gg/BhUj2KThXJ\x22\x20target=\x22_blank\x22\x20class=\x22discord\x22>Discord</a>\x20<a\x20href=\x22/Terms\x22\x20target=\x22_blank\x22>Terms</a>\x20<a\x20href=\x22/Privacy\x22\x20target=\x22_blank\x22>Privacy\x20Policy</a>\x20</div>\x20<div\x20class=\x22leaderboardsContainer\x22>\x20<div\x20class=\x22centeredPage\x22>\x20<div\x20class=\x22order\x22>\x20<span>Rank</span>\x20<span>Name</span>\x20<span>Score</span>\x20</div>\x20<div\x20class=\x22leaderboardsPage\x22>\x20<div\x20class=\x22playerScore1\x22>\x20<i\x20class=\x22first\x22></i>\x20<span>'+(nX[0x0]['PlayerName']||aB(0x210))+aB(0x194)+(nX[0x0]['PlayerGold']||aB(0x210))+'</span>\x20</div>\x20<div\x20class=\x22playerScore2\x22>\x20<i\x20class=\x22second\x22></i>\x20<span>'+(nX[0x1]['PlayerName']||aB(0x210))+aB(0x194)+(nX[0x1][aB(0x22d)]||aB(0x210))+aB(0x235)+(nX[0x2][aB(0x248)]||aB(0x210))+'</span>\x20<span>'+(nX[0x2][aB(0x22d)]||aB(0x210))+aB(0x24c)+(nX[0x3]['PlayerName']||'---')+'</span>\x20<span>'+(nX[0x3][aB(0x22d)]||aB(0x210))+aB(0x208)+(nX[0x4]['PlayerName']||aB(0x210))+aB(0x194)+(nX[0x4][aB(0x22d)]||aB(0x210))+aB(0x24c)+(nX[0x5][aB(0x248)]||aB(0x210))+aB(0x194)+(nX[0x5][aB(0x22d)]||aB(0x210))+aB(0x208)+(nX[0x6][aB(0x248)]||'---')+aB(0x194)+(nX[0x6][aB(0x22d)]||aB(0x210))+aB(0x24c)+(nX[0x7][aB(0x248)]||'---')+aB(0x194)+(nX[0x7][aB(0x22d)]||'---')+aB(0x208)+(nX[0x8][aB(0x248)]||aB(0x210))+'</span>\x20<span>'+(nX[0x8][aB(0x22d)]||aB(0x210))+'</span>\x20</div>\x20<div\x20class=\x22playerScore2\x22>\x20<i></i>\x20<span>'+(nX[0x9]['PlayerName']||aB(0x210))+aB(0x194)+(nX[0x9]['PlayerGold']||aB(0x210))+'</span>\x20</div>\x20</div>\x20</div>\x20</div>\x20<div\x20class=\x22centeredBottom\x22>\x20<div\x20class=\x22bottomPage\x22>\x20<!--\x20onclick=\x22history.go(-1);\x20return\x20false;\x22\x20-->\x20<a\x20class=\x22link\x22\x20onclick=\x22const\x20backButton\x20=\x20document.getElementById(\x27backButton\x27);\x20if\x20(window.history.length\x20===\x20undefined)\x20{\x20backButton.addEventListener(\x27click\x27,\x20()\x20=>\x20{\x20history.go(-1);\x20return\x20false;\x20});\x20}\x20else\x20{\x20window.location.href\x20=\x20\x27https://combat-io.glitch.me/\x27;\x20}\x22\x20id=\x22backButton\x22>\x20<div\x20class=\x22\x22>\x20Go\x20back\x20to\x20game\x20<span\x20class=\x22arrow\x20material-icons\x20md-24\x22></span>\x20</div>\x20</a>\x20</div>\x20</div>\x20<script\x20src=\x22/main.js\x22></script>\x20</body>\x20</html>');})['catch'](function(nx){var aw=aO;console[aw(0x1fb)]('Error:\x20',nx);});});}),J['use'](aa(0x1a5),function(nn,na){var aN=aa;na[aN(0x22a)](aN(0x1c2));}),J[aa(0x1e8)](aa(0x1b0),function(nn,na){var aF=aa;na['sendFile'](aF(0x1c4));}),J[aa(0x1e8)](process['env']['J'],function(nn,na){var aT=aa;na[aT(0x22a)](__dirname+process[aT(0x185)]['J']);}),J[aa(0x1e8)](process[aa(0x185)]['H'],function(nn,na){var aA=aa;na[aA(0x22a)](__dirname+process[aA(0x185)]['H']);}));var A=[];function C(nn){var na=Math['PI'];return nn*(0xb4/na);}var d=[],G=[],K=[],P=0x0,Y=0x2710,I=0x3e8,E=0x1770,D=0x3e8,c=0x3e8,V=0x1,L={},e=![];let u='Error...';function S(nn,na,nz,ns=0x19){var aC=aa;let np=Math[aC(0x206)](na['y']-nn['y'],na['x']-nn['x']);np=C(np);let nX=ns/0x2,nx=np+nX,nl=np-nX;return nz>nl&&nz<nx?!![]:![];}function W(nn,na){var ad=aa;return Math[ad(0x1b4)](Math[ad(0x1d3)]()*(na-nn+0x1))+nn;}Array[aa(0x1dd)][aa(0x1d8)]=function(nn){var ak=aa,na=this[ak(0x19a)](nn);return na>-0x1&&this[ak(0x1ac)](na,0x1),this;};var r=[],q=[],t=[];for(let nn=0x0;nn<0x12;nn++){var y={'x':na(nn),'y':nz(nn),'dir':Math['random'](),'id':0x4,'xWiggle':0x0,'yWiggle':0x0};q[aa(0x186)](y);function na(ns){return T[ns];}function nz(ns){if(ns===0x0)return 0x2530;if(ns===0x1)return 0x251c;if(ns===0x2)return 0x2481;if(ns===0x3)return 0x2499;if(ns===0x4)return 0x25b0;if(ns===0x5)return 0x263d;if(ns===0x6)return 0x2417;if(ns===0x7)return 0x269f;if(ns===0x8)return 0x23e5;if(ns===0x9)return 0x26d4;if(ns===0xa)return 0x23d3;if(ns===0xb)return 0x2403;if(ns===0xc)return 0x26c4;if(ns===0xc)return 0x270c;if(ns===0xd)return 0x266f;if(ns===0xe)return 0x25d4;}}q[aa(0x186)](y);for(let ns=0x0;ns<0x8;ns++){for(let np=0x0;np<Y/0x32;np++){var b=W(0x0,Y),Q=W(0x0,Y);if(Q<=0x0||Q>=0x0){if(ns==0x6)continue;}if(Q<0x3e8){if(ns==0x0||ns==0x2||ns==0x5||ns==0x7)continue;}if(Q<0x1b58){if(ns==0x7)continue;}if(Q>0x3e8){if(ns==0x3||ns==0x1)continue;}if(Q>Y-I-D-0x64&&Q<Y-I+0x64){if(ns==0x2||ns==0x0||ns==0x3||ns==0x1||ns==0x5||ns==0x7)continue;}if(Q>Y-I-0x64){if(ns==0x2||ns==0x0||ns==0x3||ns==0x1)continue;}if(Q>Y-I-D-c-0x64&&Q<Y-I-D+0x64){if(ns==0x2||ns==0x0||ns==0x3||ns==0x1)continue;}var y={'x':b,'y':Q,'dir':Math[aa(0x1d3)](),'id':ns,'xWiggle':0x0,'yWiggle':0x0};if(q[aa(0x249)](nX=>nX&&v(y,nX)<0xc8)[aa(0x222)]>0x0)continue;q[aa(0x186)](y);}}q['push']({'x':0x1314,'y':0x2554,'dir':Math[aa(0x1d3)](),'id':0x3,'xWiggle':0x0,'yWiggle':0x0}),r[aa(0x186)]({'id':0x0,'speed':0x3,'x':0x1388,'y':0x1388,'dir':0x0,'health':0x64,'xVel':0x0,'yVel':0x0});var M=[{'id':0x0,'count':0xa,'aggresive':![],'name':aa(0x223),'speed':0x5,'health':0x64,'maxHealth':0x64}];M[aa(0x218)](nX=>{for(let nl=0x0;nl<nX['count'];nl++){var nx={'id':nX['id'],'speed':nX['speed'],'x':W(0x0,Y),'y':W(0x0,Y),'dir':0x0,'health':0x64,'xVel':0x0,'yVel':0x0};r['push'](nx);}}),console['log'](r);var U=0x1f4,R=[{'id':0x0,'isWeapon':!![],'name':aa(0x200),'reload':0x1c2,'damage':0x19,'range':0x5f,'fov':0xa0,'gather':0x1},{'id':0x1,'isWeapon':![],'name':aa(0x18a),'cost':{'food':0xa},'heal':0x14},{'id':0x2,'isWeapon':![],'placeable':!![],'placeInRiver':![],'name':aa(0x22b),'cost':{'wood':0xa,'stone':0x5},'damage':0x14,'velocity':0x14,'health':0x12c,'oid':0x0,'clanID':0x0,'maxHealth':0x12c},{'id':0x3,'isWeapon':![],'placeable':!![],'placeInRiver':![],'name':'Wall','cost':{'wood':0x14},'damage':0x0,'velocity':0x2,'health':0xfa,'maxHealth':0xfa},{'id':0x4,'isWeapon':![],'placeable':!![],'placeInRiver':![],'name':aa(0x1cb),'cost':{'wood':0xa,'stone':0x14},'damage':0x0,'velocity':0x0,'health':0xc8,'maxHealth':0xc8},{'id':0x5,'isWeapon':![],'placeable':!![],'placeInRiver':![],'name':aa(0x227),'cost':{'wood':0x14,'stone':0x5},'damage':0x0,'oid':0x0,'clanID':0x0,'velocity':-0x2,'health':0xc8,'maxHealth':0xc8},{'id':0x6,'isWeapon':![],'placeable':!![],'placeInRiver':![],'teleport':!![],'name':aa(0x23e),'cost':{'wood':0x32,'stone':0x32},'damage':0x0,'velocity':-0x2,'health':0x32,'maxHealth':0xc8},{'id':0x7,'isWeapon':!![],'name':aa(0x22f),'reload':0x190,'damage':0x23,'range':0x6e,'fov':0xa0,'gather':0x1}];J[aa(0x199)]('/',(nX,nx)=>{var aG=aa;console[aG(0x1f3)](aG(0x1ad)),u=nX[aG(0x1b3)][aG(0x193)][aG(0x244)](',')['shift'](),nx[aG(0x22a)](__dirname+'/views/index.html');}),J[aa(0x199)](aa(0x20d),(nX,nx)=>{var aK=aa;nx[aK(0x221)]({'players':H['length']});});function v(nX,nx){var aP=aa;return Math['sqrt'](Math[aP(0x1e7)](nX['y']-nx['y'],0x2)+Math[aP(0x1e7)](nX['x']-nx['x'],0x2));}const f=new O['Server']({'noServer':!![],'maxPayload':0x200});var H=[];function o(nX,nx){var aY=aa;if(nX[aY(0x215)][aY(0x1bf)]>=nX[aY(0x18b)][nx][aY(0x1bf)]&&nX[aY(0x215)][aY(0x1e2)]>=nX[aY(0x18b)][nx][aY(0x1e2)]&&!nX[aY(0x18b)][nx]['owned'])nX['resources'][aY(0x1bf)]-=nX[aY(0x18b)][nx][aY(0x1bf)],nX[aY(0x215)][aY(0x1e2)]-=nX[aY(0x18b)][nx][aY(0x1e2)],nX[aY(0x18b)][nx]['owned']=!![],nX[aY(0x1bd)]=nx||0x0;else nX['hats'][nx][aY(0x17e)]&&(nX[aY(0x1bd)]=nx||0x0);}function n0(nX,nx){nX['clanName']=nx||null;}function n1(nX,nx){var aI=aa;nX[aI(0x1b8)]<=0x2&&(nX[aI(0x184)]=nx||0x0,nX['upgrade']=!![]);}function n2(nX,nx){var aE=aa;if(nX['resources'][aE(0x1bf)]>=nX[aE(0x234)][nx]['gold']&&nX['resources'][aE(0x1e2)]>=nX[aE(0x234)][nx][aE(0x1e2)]&&!nX['accs'][nx][aE(0x17e)])nX['resources'][aE(0x1bf)]-=nX[aE(0x234)][nx][aE(0x1bf)],nX['resources'][aE(0x1e2)]-=nX[aE(0x234)][nx][aE(0x1e2)],nX['accs'][nx][aE(0x17e)]=!![],nX['acc']=nx||0x0;else nX[aE(0x234)][nx][aE(0x17e)]&&(nX['acc']=nx||0x0);}function n3(nX,nx,nl){var aD=aa;nX[aD(0x198)]=nX['x'],nX[aD(0x238)]=nX['y'],nX[aD(0x17a)]=0xc8,nX[aD(0x1a1)]=nl||0x0,nX[aD(0x21f)]=nX[aD(0x21f)],nX[aD(0x19c)]=nx,nX['ip']=u,(nX[aD(0x1bc)]=0x0,nX[aD(0x23a)]=nX['sid']||++P),nX[aD(0x178)]=!![],nX[aD(0x1b8)]=0x1,nX['x']=W(0x0,Y),nX['y']=W(0x0,Y),nX[aD(0x180)]=0x64,nX[aD(0x24a)]=[0x0,0x1,0x2,0x3,0x4,0x5,0x6,0x7],nX['hats']=[{'name':aD(0x1ff),'owned':!![],'gold':0x0,'ruby':0x0},{'name':aD(0x1a6),'owned':![],'gold':0x0,'ruby':0x0},{'name':aD(0x1ea),'owned':![],'gold':0x3e8,'ruby':0x0},{'name':aD(0x22c),'owned':![],'gold':0xfa0,'ruby':0x0},{'name':aD(0x1fc),'owned':![],'gold':0x9c4,'ruby':0x0},{'name':'Tank\x20Gear','owned':![],'gold':0x3a98,'ruby':0x0},{'name':'Spike\x20Gear','owned':![],'gold':0x3a98,'ruby':0x0},{'name':'X-jorgepet\x20cap','owned':![],'gold':0x0,'ruby':0x0},{'name':aD(0x247),'owned':![],'gold':0x0,'ruby':0x0}],nX[aD(0x234)]=[{'name':aD(0x1d1),'owned':!![],'gold':0x0,'ruby':0x0},{'name':aD(0x1bb),'owned':![],'gold':0x0,'ruby':0x0},{'name':aD(0x1ba),'owned':![],'gold':0x4e20,'ruby':0x0}],nX['admin']?nX['resources']={'food':0xf4240,'wood':0xf4240,'stone':0xf4240,'gold':0xf4240,'ruby':0xf4240,'food2':0x0,'wood2':0x0,'cacti':0x0}:nX[aD(0x215)]={'food':0x64,'wood':0x64,'stone':0x64,'gold':0x64,'ruby':0x0,'food2':0x0,'wood2':0x0,'cacti':0x0};}var n4=0x514;function n5(nX,nx,nl){var ac=aa;return Math[ac(0x1f5)](Math[ac(0x1e7)](nx['y']-nX['y']-nX[ac(0x213)]*0x5,0x2)+Math[ac(0x1e7)](nx['x']-nX['x']-nX[ac(0x1f0)]*0x5,0x2))<nl;}function n6(nX,nx,nl=0x3c){return v(nX,nx)<nl+0x1;}function n7(nX,nx){var aV=aa;f['clients'][aV(0x218)](nl=>{var aL=aV;let nZ=nl[aL(0x250)];nZ&&(v(nZ,nx)<n4&&nl['send'](N(nX)));});}setInterval(()=>{var ae=aa;f['clients'][ae(0x218)](nX=>{var au=ae;let nx=nX[au(0x250)];if(nx){var nl=[];d['forEach'](nZ=>{var aS=au;nl[aS(0x186)]({'name':nZ[aS(0x19c)],'sid':nZ[aS(0x23a)],'gold':nZ[aS(0x215)][aS(0x1bf)]});}),nX['send'](N(['b',[nl]])),G&&nX[au(0x1a3)](N([au(0x1df),[G]])),K&&nX[au(0x1a3)](N([au(0x241),[K]]));}!nx[au(0x203)]&&B[au(0x233)]('.'+process[au(0x185)]['H'],au(0x190),(nZ,nj)=>{var aW=au;let ng=JSON[aW(0x236)]('['+nj['replace'](/,$/,'')+']'),nO=JSON[aW(0x211)](ng[aW(0x249)](nw=>nw[aW(0x248)]!==nx[aW(0x19c)]))+','||''[aW(0x204)](0x1,-0x1),nJ=Object[aW(0x17d)]({},{'PlayerName':nx['name'],'PlayerGold':nx[aW(0x215)]['gold']}),nB=ng[aW(0x1c1)](nw=>nw[aW(0x248)]==nx['name'])||{'PlayerName':nx[aW(0x19c)],'PlayerGold':'0'};w('https://combat-io.glitch.me'+process[aW(0x185)]['H'])[aW(0x219)](nw=>nw[aW(0x209)]())['then'](nw=>{var ar=aW;let nN=JSON[ar(0x211)](nJ),nF=JSON[ar(0x211)](JSON[ar(0x236)]('['+(nO[ar(0x204)](0x1,-0x1)+','+nN)[ar(0x1fe)](/\]/,'')+']'),null,0x2)[ar(0x204)](0x1,-0x1)[ar(0x1fe)](/\n$/,'')[ar(0x1fe)](/\n,$/,',')+',';nJ[ar(0x248)]&&!nJ[ar(0x248)]['includes']('Player_')&&nB[ar(0x22d)]<nJ[ar(0x22d)]&&B[ar(0x239)]('.'+process['env']['H'],nF,nT=>{var aq=ar;if(nT)throw nT;console[aq(0x1f3)](nF);});})[aW(0x1e1)](function(nw){var at=aW;console[at(0x1fb)]('Error:\x20',nw);});});});},0x3e8),setInterval(()=>{var ay=aa;f[ay(0x231)][ay(0x218)](nX=>{var ah=ay;let nx=nX[ah(0x250)];if(nx){var nl=H[ah(0x249)](nO=>nO&&nO[ah(0x178)]&&v(nx,nO)<n4);nX[ah(0x1a3)](N(['33',[nl]]));var nZ=q['filter'](nO=>nO&&v(nx,nO)<n4);nX[ah(0x1a3)](N(['o',[nZ]]));var nj=t['filter'](nO=>nO&&v(nx,nO)<n4);nX[ah(0x1a3)](N(['x',[nj]]));var ng=r['filter'](nO=>nO&&v(nx,nO)<n4);nX['send'](N(['a',[ng]]));}});},0x14),setInterval(()=>{var am=aa;f['clients'][am(0x218)](nX=>{var ab=am;let nx=nX[ab(0x250)];nx&&(nx['noHurtTime']=Math['max'](0x0,nx[ab(0x17a)]-0x1));});},0x32);function n8(nX){return nX*0.01745329251;}setInterval(()=>{var aQ=aa;r[aQ(0x218)](nX=>{var aM=aQ;nX['x']+=nX['xVel']*nX[aM(0x1af)]/0xa,nX['y']+=nX[aM(0x213)]*nX['speed']/0xa,nX[aM(0x1f0)]*=0.93,nX[aM(0x213)]*=0.93,nX[aM(0x1f0)]+=Math['cos'](nX[aM(0x197)]),nX[aM(0x213)]+=Math[aM(0x1d5)](nX['dir']),nX[aM(0x197)]+=n8(W(C(nX[aM(0x197)])-0x3,C(nX[aM(0x197)]+0x3)));},0x64),f[aQ(0x231)]['forEach'](nX=>{var aU=aQ;let nx=nX[aU(0x250)];if(nx&&nx[aU(0x178)]){var nl=0.8;nx[aU(0x1bd)]==0x2&&(nl+=0.2);nx[aU(0x1bd)]==0x3&&(nl-=0.2);nx[aU(0x1bd)]==0x5&&(nl-=0.5);nx[aU(0x179)]==0x1&&(nl+=0.2);nx[aU(0x179)]==0x2&&(nl+=0.4);nx['y']>Y-I-D&&nx['y']<Y-I&&nx['acc']!==0x2&&(nx[aU(0x1f0)]+=nx[aU(0x1bd)]==0x4?0.2:0.5,nl*=nx[aU(0x1bd)]==0x4?0.6:0.3);Y-nx['y']-E&&nx['y']<E-0x7d0-0xbb8&&nx['acc']!==0x2&&(nl*=0.5);!R[aU(0x1c1)](nJ=>nJ['id']==nx[aU(0x21e)])[aU(0x1cc)]&&(nl*=0.4);if(nx[aU(0x182)]!=null){let nJ=Math[aU(0x228)](nx[aU(0x182)]),nB=Math[aU(0x1d5)](nx['movedir']);nx[aU(0x1f0)]+=nJ*nl,nx[aU(0x213)]+=nB*nl*-0x1;}nx['x']+=nx[aU(0x1f0)]*0.3,nx['y']+=nx[aU(0x213)]*0.3,nx[aU(0x1f0)]*=0.93,nx['yVel']*=0.93;Math[aU(0x1da)](nx[aU(0x1f0)])<0.005&&(nx[aU(0x1f0)]=0x0);Math['abs'](nx[aU(0x213)])<0.005&&(nx[aU(0x213)]=0x0);q[aU(0x218)](nw=>{var ai=aU;nw[ai(0x1d9)]*=0.9,nw[ai(0x205)]*=0.9,Math['abs'](nw['xWiggle'])<0.005&&(nw[ai(0x1d9)]=0x0),Math[ai(0x1da)](nw['yWiggle'])<0.005&&(nw['yWiggle']=0x0);}),t['forEach'](nw=>{var aR=aU;nw[aR(0x1d9)]*=0.9,nw['yWiggle']*=0.9,Math[aR(0x1da)](nw[aR(0x1d9)])<0.005&&(nw[aR(0x1d9)]=0x0),Math[aR(0x1da)](nw[aR(0x205)])<0.005&&(nw['yWiggle']=0x0);});var nZ=H[aU(0x249)](nw=>nw&&v(nx,nw)<n4);nZ&&nZ['forEach'](nw=>{var av=aU;if(nw[av(0x178)]&&n6(nx,nw)&&nx['sid']!=nw[av(0x23a)]&&(nw['acc']===0x2&&nx[av(0x179)]===0x2||nw['acc']!=0x2&&nx[av(0x179)]!=0x2)){var nN=Math['atan2'](nx['y']-nw['y'],nx['x']-nw['x']),nF=Math[av(0x228)](nN),nT=Math['sin'](nN);nx[av(0x1f0)]+=nF,nx[av(0x213)]+=nT;}});var nj=q[aU(0x249)](nw=>nw&&v(nx,nw)<n4);nj&&nj['forEach'](nw=>{var af=aU;if(v(nx,{'x':nw['x'],'y':nw['y']})<(nw['id']==0x0?0x50:nw['id']==0x1?0x50:nw['id']==0x2?0x3c:nw['id']==0x3?0x3c:nw['id']==0x4?0x5a:nw['id']==0x5?0x55:nw['id']==0x7?0x34:0x0)){var nN=Math[af(0x206)](nx['y']-nw['y'],nx['x']-nw['x']),nF=Math[af(0x228)](nN)*0x2,nT=Math['sin'](nN)*0x2;nx[af(0x179)]!==0x2&&nw['id']!=0x7&&(nx[af(0x1f0)]+=nF,nx[af(0x213)]+=nT),nw['id']===0x7&&nx[af(0x179)]!==0x2&&(nx['health']-=nx[af(0x1bd)]===0x3?0x12-0x5:0x12,nx['xVel']=Math[af(0x228)](nN)*0x14||0x1,nx['yVel']=Math[af(0x1d5)](nN)*0x14||0x1);}});var ng=t[aU(0x249)](nw=>nw&&v(nx,nw)<n4);ng&&ng['forEach'](nw=>{var aH=aU;if(nw[aH(0x180)]<=0x0){for(let nC in R['find'](nd=>nd['id']==nw['id'])['cost']){nx[aH(0x215)][nC]+=R[aH(0x1c1)](nd=>nd['id']==nw['id'])[aH(0x1e5)][nC];}t[aH(0x1d8)](nw);}if(v(nx,{'x':nw['x'],'y':nw['y']})<(nw['id']==0x2?0x3c:nw['id']==0x3?0x3c:nw['id']==0x4?0x3c:nw['id']==0x5?0x32:nw['id']==0x6?0x32:0x0)){var nN=Math[aH(0x206)](nx['y']-nw['y'],nx['x']-nw['x']),nF=R[aH(0x1c1)](nd=>nd['id']==nw['id']),nT=Math[aH(0x228)](nN)*nF[aH(0x195)]||0x1,nA=Math[aH(0x1d5)](nN)*nF[aH(0x195)]||0x1;nF['id']===0x4&&(nT=Math[aH(0x228)](nN)*nx[aH(0x177)],nA=Math[aH(0x1d5)](nN)+-0x5);if(nF['id']===0x5&&nw['oid']!=nx[aH(0x23a)]&&nw[aH(0x1be)]!==nx['clanID'])nT=Math[aH(0x228)](nN)*-0x2,nA=Math['sin'](nN)*-0x2;else nw['id']===0x5&&(nT=0x0,nA=0x0);(nF['id']===0x2&&nw[aH(0x20c)]==nx[aH(0x23a)]||nF[aH(0x1be)]==nx[aH(0x1be)])&&(nT=Math[aH(0x228)](nN)*0x1,nA=Math['sin'](nN)*0x1),nF[aH(0x189)]&&nx[aH(0x179)]!=0x2&&(nx['x']=W(0x0,Y),nx['y']=W(0x0,Y)),nF['damage']&&nx['noHurtTime']==0x0&&nw[aH(0x20c)]!==nx['sid']&&nw['clanID']!==nx[aH(0x1be)]&&nx[aH(0x179)]!==0x2&&(nx[aH(0x180)]-=nx[aH(0x1bd)]===0x3?nF[aH(0x212)]-0x5:nF[aH(0x212)]),nx[aH(0x179)]!==0x2&&(nx[aH(0x1f0)]+=nT,nx[aH(0x213)]+=nA);}});if(nx[aU(0x19f)]){var nO=R[aU(0x1c1)](nw=>nw['id']==nx['weapon']);if(nO){if(nO[aU(0x1cc)]&&nx[aU(0x1ec)]){nx[aU(0x1ec)]=![];var nZ=H[aU(0x249)](nN=>nN&&v(nx,nN)<n4);nZ['forEach'](nN=>{var ao=aU;if(nN[ao(0x23a)]!=nx[ao(0x23a)]&&n5(nx,nN,nO[ao(0x1d4)])&&S(nx,nN,C(nx[ao(0x177)]),nO[ao(0x1a2)])&&nN[ao(0x1be)]!==nx[ao(0x1be)]&&(nN[ao(0x179)]===0x2&&nx[ao(0x179)]===0x2||nN[ao(0x179)]!=0x2&&nx[ao(0x179)]!=0x2)){var nF=Math[ao(0x206)](nN['y']-nx['y'],nN['x']-nx['x']);nN[ao(0x1f0)]+=Math[ao(0x228)](nF)*0xa,nN['yVel']+=Math[ao(0x1d5)](nF)*0xa,nN[ao(0x180)]>0x0&&(nN[ao(0x180)]-=nN[ao(0x1bd)]===0x3?nO[ao(0x212)]-0x8:nO['damage'],nx[ao(0x180)]-=nN[ao(0x1bd)]===0x6?nx['hat']===0x4?nO[ao(0x212)]-0xa:nO[ao(0x212)]-0xf:0x0),nX[ao(0x1a3)](N(['t',[nN['x']+W(-0x14,0x14),nN['y']+W(-0x14,0x14),!![],nO['damage']]]));}});function nw(){var z0=aU;return Math[z0(0x1b4)](Math[z0(0x1d3)]()*0x64)==0x3?!![]:![];}var nj=q[aU(0x249)](nN=>nN&&v(nx,nN)<n4);nj[aU(0x218)](nN=>{var z1=aU;if(n5(nx,nN,nO['range']+(nN['id']==0x2?0x28:0x41))&&S(nx,nN,C(nx[z1(0x177)]),nO[z1(0x1a2)])&&nx[z1(0x179)]!==0x2){nx[z1(0x215)][nN['id']==0x0?z1(0x1a4):nN['id']==0x1?z1(0x1a4):nN['id']==0x2?z1(0x23c):nN['id']==0x3?'food':nN['id']==0x4?'stone':nN['id']==0x5?nw()?z1(0x1e2):z1(0x1bf):nN['id']==0x6?z1(0x1e2):nN['id']==0x7?'food':0x0]+=nO[z1(0x1e9)];nx['xp']>=0x64?(nx['xp']=0x0,nx[z1(0x1b8)]=nx[z1(0x1b8)]+0x1):nx['xp']+=nO[z1(0x1e9)];var nF=Math['atan2'](nN['y']-nx['y'],nN['x']-nx['x']);nN[z1(0x1d9)]+=Math[z1(0x228)](nF)*0xe,nN['yWiggle']+=Math[z1(0x1d5)](nF)*0xe;}});var ng=t['filter'](nN=>nN&&v(nx,nN)<n4);ng[aU(0x218)](nN=>{var z2=aU;if(n5(nx,nN,nO['range']+0xa)&&S(nx,nN,C(nx[z2(0x177)]),nO[z2(0x1a2)])&&nx[z2(0x179)]!==0x2){nN[z2(0x180)]-=nx[z2(0x1bd)]==0x5?nO['damage']+0x19:nO[z2(0x212)];var nF=Math[z2(0x206)](nN['y']-nx['y'],nN['x']-nx['x']);nN[z2(0x1d9)]+=Math[z2(0x228)](nF)*0xa,nN[z2(0x205)]+=Math['sin'](nF)*0xa;}}),n7(['7',[nx[aU(0x23a)]]],nx),setTimeout(()=>{var z3=aU;nx[z3(0x1ec)]=!![];},nO[aU(0x23d)]);}}}nx['x']>Y-0x1e&&(nx[aU(0x1f0)]+=Y-0x1e-nx['x']),nx['y']>Y-0x1e&&(nx['yVel']+=Y-0x1e-nx['y']),nx['x']<0x1e&&(nx[aU(0x1f0)]+=0x1e-nx['x']),nx['y']<0x1e&&(nx[aU(0x213)]+=0x1e-nx['y']),nx[aU(0x180)]<=0x0&&(nX[aU(0x1a3)](N(['d',[]])),nx[aU(0x178)]=![],nx['xp']=0x0);}}),d=H[aQ(0x20b)]((nX,nx)=>nx['resources'][aQ(0x1bf)]-nX[aQ(0x215)][aQ(0x1bf)])[aQ(0x249)](nX=>nX[aQ(0x178)])[aQ(0x204)](0x0,0xa);},0xa),f['on'](aa(0x22e),(nX,nx)=>{var z4=aa;nX[z4(0x1a3)](N([z4(0x237),[]])),nX[z4(0x250)]={'socketLimit':0x0,'noHurtTime':0x0,'skin':0x0,'hat':0x0,'clanName':'','isLeader':null,'isMember':null,'acc':0x0,'wep':0x0,'clanID':P++,'sid':null,'kills':0x0,'xVel':0x0,'yVel':0x0,'movedir':null,'attacking':![],'chat':null,'reloaded':!![],'weapon':0x0,'ip':u,'health':0x64,'weapons':[0x0,0x1,0x2,0x3,0x4,0x5,0x6],'xp':0x0,'age':0x0,'resources':{'food':0x64,'wood':0x64,'stone':0x64,'gold':0x64,'ruby':0x64,'food2':0x0,'wood2':0x0,'cacti':0x0}},nX[z4(0x250)][z4(0x178)]=![],nX['on']('message',nl=>{var z6=z4;nX['player']['socketLimit']++,setTimeout(()=>{var z5=l;nX[z5(0x250)][z5(0x1ce)]--;},0x3e8);var nZ;try{nZ=F(new Uint8Array(nl));}catch(nS){nX[z6(0x1c0)](0x3f4,'Buffer\x20missing');return;}if(!nZ||!nZ[0x0]){nX[z6(0x1c0)](0x3f4,z6(0x232));return;}switch(nZ[0x0]){case'j':!nZ[0x1][0x0]&&nX[z6(0x1c0)](0x3f4,z6(0x232));var nj,ng;try{nj=nZ[0x1][0x0][z6(0x1a1)]||0x0;}catch(nW){nX[z6(0x1c0)](0x3f4,z6(0x232)),console[z6(0x1f3)](nW);}w(z6(0x17f)+process['env']['J'])['then'](nr=>nr[z6(0x209)]())[z6(0x219)](nr=>{var z7=z6;const nq=nr[z7(0x1d6)]('\x0a','')['split'](',')['filter'](function(nt){return nt;});for(let nt=0x0;nt<nq[z7(0x222)];nt++){nX[z7(0x250)]['ip']===nq[nt]&&nX[z7(0x1c0)](0x3f4,z7(0x1eb));}}),w('https://combat-io.glitch.me'+process[z6(0x185)]['P'])[z6(0x219)](nr=>nr[z6(0x209)]())[z6(0x219)](nr=>{var z8=z6;let nq=JSON[z8(0x236)]('['+nr[z8(0x1fe)](/,$/,'')+']'),nt={'username':'Player_'+P};try{let ny=nq[z8(0x1c1)](nh=>nh[z8(0x1f4)]===nZ[0x1][0x0][z8(0x19c)]);ny[z8(0x183)]===!![]&&ny[z8(0x1f4)]===nZ[0x1][0x0][z8(0x19c)]&&ny['password']===nZ[0x1][0x0][z8(0x1fd)]&&(nt=ny);}catch(nh){console[z8(0x1fb)](nh);}n3(nX[z8(0x250)],nt[z8(0x1f4)],nj),!H[z8(0x1c1)](nm=>nm[z8(0x23a)]==nX[z8(0x250)][z8(0x23a)])&&(H[z8(0x186)](nX[z8(0x250)]),nX[z8(0x1a3)](N(['1',[nX[z8(0x250)][z8(0x23a)]]])),nX[z8(0x1a3)](N(['w',[nX[z8(0x250)]['weapons']]])));});break;case'Hd':!nZ[0x1][0x0]&&nX['close'](0x3f4,z6(0x232));var nO;try{nO=nZ[0x1][0x0][z6(0x1bd)]||0x0;}catch(nr){nX[z6(0x1c0)](0x3f4,z6(0x232));}o(nX['player'],nO);break;case'Ac':!nZ[0x1][0x0]&&nX['close'](0x3f4,z6(0x232));var nJ;try{nJ=nZ[0x1][0x0][z6(0x179)]||0x0;}catch(nq){nX['close'](0x3f4,z6(0x232));}n2(nX[z6(0x250)],nJ);break;case'Ug':!nZ[0x1][0x0]&&nX['close'](0x3f4,z6(0x232));var nB;if(nX['player'][z6(0x1b8)]>=0x2){try{nX[z6(0x250)][z6(0x21e)]=nZ[0x1][0x0][z6(0x184)]||0x0,nX['player'][z6(0x23f)]=nZ[0x1][0x0][z6(0x184)]||0x0;}catch(nt){nX[z6(0x1c0)](0x3f4,'Buffer\x20missing');}n1(nX[z6(0x250)],nB);}break;case'33':if(typeof nZ[0x1][0x0]!=='number'&&nZ[0x1][0x0]!==null)break;nX[z6(0x250)][z6(0x182)]=nZ[0x1][0x0];break;case'p':nX[z6(0x1a3)](N(['p',[]]));break;case'ud':nX[z6(0x250)]['admin']&&(nX[z6(0x250)][z6(0x180)]=0x64);break;case'2':if(typeof nZ[0x1][0x0]!==z6(0x1b2))break;nX[z6(0x250)]['aimdir']=nZ[0x1][0x0];break;case'ch':if(nZ[0x1][0x0]=='/'+process['env'][z6(0x187)])return nX[z6(0x250)][z6(0x203)]=!![],nX['player']['health']=0x64,nX[z6(0x250)][z6(0x215)][z6(0x23c)]=0xf4240,nX[z6(0x250)][z6(0x215)][z6(0x1a4)]=0xf4240,nX[z6(0x250)][z6(0x215)][z6(0x1e3)]=0xf4240,nX[z6(0x250)][z6(0x215)][z6(0x1e2)]=0xf4240,nX[z6(0x250)]['resources'][z6(0x1bf)]=0xf4240,![];if(nZ[0x1][0x0]=='/'+process[z6(0x185)][z6(0x20f)])return nX[z6(0x250)][z6(0x21a)]=!![],![];if(nZ[0x1][0x0]=='/'+process[z6(0x185)][z6(0x1c8)])return nX[z6(0x250)][z6(0x1a9)]=!![],![];if(nZ[0x1][0x0]==z6(0x246)&&nX[z6(0x250)]['admin'])return nX[z6(0x250)][z6(0x180)]=0x0,![];if(nZ[0x1][0x0]=='/end'&&nX[z6(0x250)][z6(0x203)])return O[z6(0x1c0)](),![];if(nZ[0x1][0x0][z6(0x1dc)](z6(0x181))&&(nX['player'][z6(0x203)]||nX[z6(0x250)][z6(0x21a)])){try{let ny=nZ[0x1][0x0]['replace'](z6(0x1a7),'')[z6(0x1d6)](/\s/g,'');if(!isNaN(ny)){var nw=[];d[z6(0x218)](nm=>{var z9=z6;nw[z9(0x186)]({'sid':nm[z9(0x23a)],'ip':nm['ip'],'name':nm[z9(0x19c)]});});let nh=nw['find'](({sid:nm})=>nm===~~ny);!(nh['admin']&&nh[z6(0x21a)])&&w(z6(0x17f)+process['env']['J'])[z6(0x219)](nm=>nm[z6(0x209)]())[z6(0x219)](nm=>{var zn=z6,nb=nm+'\x0a'+nh['ip']+',';B['writeFile']('.'+process[zn(0x185)]['J'],nb,nQ=>{if(nQ)throw nQ;});});}else throw new Error('');}catch(nm){return nX['player']['chat']=z6(0x23b)[z6(0x204)](0x0,0x1e),nX[z6(0x250)]['lastChatTimestamp']=Date[z6(0x1b9)](),setTimeout(()=>{var za=z6;nX[za(0x250)][za(0x1f6)]=null;},0xbb8),![];}return![];}if(nZ[0x1][0x0][z6(0x1dc)](z6(0x20e))&&(nX['player'][z6(0x203)]||nX[z6(0x250)]['mod']))try{let nb=nZ[0x1][0x0]['replace'](z6(0x216),'')[z6(0x1d6)](/\s/g,'');return w('https://combat-io.glitch.me'+process[z6(0x185)]['J'])[z6(0x219)](nQ=>nQ['text']())[z6(0x219)](nQ=>{var zz=z6,nM=nQ[zz(0x1fe)]('\x0a'+nb+',','');B['writeFile']('.'+process['env']['J'],nM,nU=>{if(nU)throw nU;});}),![];}catch(nQ){return nX[z6(0x250)]['chat']='IP\x20not\x20valid.'[z6(0x204)](0x0,0x1e),nX[z6(0x250)][z6(0x24e)]=Date[z6(0x1b9)](),setTimeout(()=>{var zs=z6;nX[zs(0x250)]['chat']=null;},0xbb8),![];}if(nZ[0x1][0x0][z6(0x1dc)](z6(0x1e4))&&(nX[z6(0x250)][z6(0x203)]||nX['player'][z6(0x21a)])){if(nZ[0x1][0x0][z6(0x1dc)](z6(0x24d))){let nM=nZ[0x1][0x0]['replace']('/tp\x20sid:','')[z6(0x1d6)](/\s/g,'');var nw=[];d[z6(0x218)](nU=>{var zp=z6;nw[zp(0x186)]({'sid':nU[zp(0x23a)],'x':nU['x'],'y':nU['y']});});try{let nU=nw[z6(0x1c1)](({sid:ni})=>ni===~~nM);nX['player']['y']=nU['y']+0x2,nX[z6(0x250)]['x']=nU['x'];}catch(ni){return nX[z6(0x250)][z6(0x1f6)]=z6(0x23b)[z6(0x204)](0x0,0x1e),nX[z6(0x250)][z6(0x24e)]=Date[z6(0x1b9)](),setTimeout(()=>{var zX=z6;nX[zX(0x250)][zX(0x1f6)]=null;},0xbb8),![];}return![];}else return~~nZ[0x1][0x0][z6(0x1cf)](0x4)[z6(0x1fe)](/\s/g,'')[z6(0x244)](',')[0x0]<0x2711&&~~nZ[0x1][0x0][z6(0x1cf)](0x4)[z6(0x1fe)](/\s/g,'')['split'](',')[0x0]>-0x1&&~~nZ[0x1][0x0]['substr'](0x4)[z6(0x1fe)](/\s/g,'')[z6(0x244)](',')[0x1]<0x2711&&~~nZ[0x1][0x0]['substr'](0x4)[z6(0x1fe)](/\s/g,'')[z6(0x244)](',')[0x1]>-0x1?(nX[z6(0x250)]['x']=~~nZ[0x1][0x0]['substr'](0x4)[z6(0x1fe)](/\s/g,'')['split'](',')[0x0],nX['player']['y']=~~nZ[0x1][0x0][z6(0x1cf)](0x4)[z6(0x1fe)](/\s/g,'')[z6(0x244)](',')[0x1],![]):(nX[z6(0x250)]['chat']=z6(0x1d7)['slice'](0x0,0x1e),nX[z6(0x250)][z6(0x24e)]=Date[z6(0x1b9)](),setTimeout(()=>{var zx=z6;nX[zx(0x250)]['chat']=null;},0xbb8),![]);}nX[z6(0x250)][z6(0x1f6)]=nZ[0x1][0x0]['slice'](0x0,0x1e),clearTimeout(L[nX[z6(0x250)][z6(0x23a)]]),L[nX[z6(0x250)][z6(0x23a)]]=setTimeout(()=>{nX['player']['chat']=null;},0xbb8);break;case'vx':var nZ=nZ[0x1][0x0];nX[z6(0x1c0)](0x3f4,nZ);break;case'createClan':try{var nN=![];for(var nF=0x0;nF<G[z6(0x222)];nF++){if(G[nF][z6(0x21f)]==nZ[0x1][0x0]){nN=!![];break;}}!nN&&nX[z6(0x250)][z6(0x226)]!=!![]&&(G[z6(0x186)]({'id':G['length'],'owner':nX['player'][z6(0x23a)],'clanName':nZ[0x1][0x0]}),K[z6(0x186)]({'id':G[z6(0x222)],'clanMembers':[{'name':nX['player'][z6(0x19c)],'sid':nX[z6(0x250)]['sid']}]}),nX['player'][z6(0x21f)]=nZ[0x1][0x0],nX[z6(0x250)][z6(0x226)]=!![],nX[z6(0x250)][z6(0x24b)]=![],nX[z6(0x250)][z6(0x1be)]=G['length']-0x1||0x0,nX[z6(0x1a3)](N([z6(0x192),[]])));}catch(nR){}break;case z6(0x17b):try{if(nX[z6(0x250)]['clanName']===null)return![];let nv=~~nZ[0x1][0x0];nX[z6(0x250)][z6(0x21f)]=null,nX[z6(0x250)]['isLeader']=![],nX[z6(0x250)][z6(0x24b)]=![],nX[z6(0x250)][z6(0x1be)]=nX[z6(0x250)][z6(0x23a)];if(G[nv][z6(0x21b)]===nX['player'][z6(0x23a)]){let nf=G['map'](nH=>nH['id'])['indexOf'](nv);return nf>-0x1&&G['splice'](nf,0x1),![];}}catch(nH){}break;case'joinClan':try{if(G){let no=~~nZ[0x1][0x0];nX['send'](N([z6(0x192),[]])),K[no][z6(0x1f8)][z6(0x186)]({'name':nX[z6(0x250)][z6(0x19c)],'sid':nX[z6(0x250)]['sid']}),nX['player']['clanName']=G[no][z6(0x21f)],nX[z6(0x250)]['isMember']=!![],nX['player'][z6(0x1be)]=no;}}catch(a0){}break;case'c':var nT=R[z6(0x1c1)](a1=>a1['id']==nX[z6(0x250)][z6(0x21e)]);if(nT&&nT['isWeapon'])nX['player'][z6(0x19f)]=nZ[0x1][0x0]==!![]?!![]:![];else{if((nZ[0x1][0x0]==!![]?!![]:![])==!![]){var nA=R[z6(0x1c1)](a1=>a1['id']==nX[z6(0x250)][z6(0x21e)]);if(!nA)return;if(nX[z6(0x250)]['y']>Y-I-D&&nX[z6(0x250)]['y']<Y-I&&!nA[z6(0x1ab)])return;var nC=nA[z6(0x1e5)]['food']||0x0,nd=nA[z6(0x1e5)][z6(0x1a4)]||0x0,nk=nA[z6(0x1e5)][z6(0x1e3)]||0x0,nG=nA[z6(0x1e5)][z6(0x1ca)]||0x0,nK=nA['cost'][z6(0x1bf)]||0x0,nP=nA[z6(0x1e5)][z6(0x23c)]||0x0,nY=nA['cost']['wood']||0x0,nI=nA[z6(0x1e5)][z6(0x240)]||0x0,nE=nX[z6(0x250)][z6(0x215)][z6(0x23c)]>=nC,nD=nX[z6(0x250)][z6(0x215)][z6(0x1a4)]>=nd,nc=nX['player'][z6(0x215)]['stone']>=nk,nV=nX[z6(0x250)][z6(0x215)][z6(0x1e2)]>=nG,nL=nX['player'][z6(0x215)][z6(0x1bf)]>=nK;if(nE&&nD&&nc&&nL&&nV){nA[z6(0x1f9)]&&nX[z6(0x250)]['health']<0x64&&(nX['player'][z6(0x215)][z6(0x23c)]-=nC,nX['player'][z6(0x215)][z6(0x1a4)]-=nd,nX['player'][z6(0x215)][z6(0x1e3)]-=nk,nX[z6(0x250)][z6(0x215)][z6(0x1e2)]-=nk,nX['player']['resources'][z6(0x1bf)]-=nK,nX[z6(0x250)][z6(0x180)]=Math['min'](0x64,nX[z6(0x250)][z6(0x180)]+nA[z6(0x1f9)]),nX[z6(0x250)][z6(0x1db)]?nX['player']['weapon']=nX[z6(0x250)][z6(0x23f)]:nX['player']['weapon']=0x0);if(nA['placeable']&&nX['player'][z6(0x179)]!=0x2){var ne={'id':nX['player'][z6(0x21e)],'x':nX['player']['x']+Math[z6(0x228)](nX['player'][z6(0x177)])*0x41,'y':nX[z6(0x250)]['y']+Math[z6(0x1d5)](nX[z6(0x250)][z6(0x177)])*0x41,'dir':Math['random'](),'xWiggle':0x0,'yWiggle':0x0};for(let a1=0x0;a1<0x1;a1++){if(t['filter'](a2=>a2&&v(ne,a2)<0x3c)[z6(0x222)]>0x0)continue;nX[z6(0x250)]['resources']['food']-=nC,nX['player'][z6(0x215)][z6(0x1a4)]-=nd,nX[z6(0x250)][z6(0x215)]['stone']-=nk,nX['player'][z6(0x215)][z6(0x1e2)]-=nG,nX['player'][z6(0x215)][z6(0x1bf)]-=nK,t[z6(0x186)]({'id':nX[z6(0x250)][z6(0x21e)],'x':nX[z6(0x250)]['x']+Math['cos'](nX[z6(0x250)][z6(0x177)])*0x41,'y':nX[z6(0x250)]['y']+Math[z6(0x1d5)](nX[z6(0x250)][z6(0x177)])*0x41,'dir':0x0,'oid':nX[z6(0x250)][z6(0x23a)],'clanID':nX[z6(0x250)][z6(0x1be)],'health':nA[z6(0x180)],'maxHealth':nA[z6(0x201)],'xWiggle':0x0,'yWiggle':0x0}),nX[z6(0x250)]['upgrade']?nX['player']['weapon']=nX[z6(0x250)]['upgradeWep']:nX[z6(0x250)][z6(0x21e)]=0x0;}}}}}break;case's':var nu=nZ[0x1][0x0]-0x1;nX[z6(0x250)][z6(0x24a)][z6(0x19a)](nu)!=-0x1&&(nX[z6(0x250)][z6(0x21e)]===nu?nX[z6(0x250)][z6(0x1db)]&&nu===0x0?nX[z6(0x250)][z6(0x21e)]=nX['player'][z6(0x23f)]:nX[z6(0x250)][z6(0x21e)]=nu:nX[z6(0x250)][z6(0x1db)]&&nu===0x0?nX[z6(0x250)][z6(0x21e)]=nX[z6(0x250)][z6(0x23f)]:nX[z6(0x250)][z6(0x21e)]=nu);break;default:nX[z6(0x1c0)](0x3f4,'Buffer\x20missing');}}),setInterval(()=>{var zl=z4;w(zl(0x17f)+process['env']['J'])[zl(0x219)](nl=>nl[zl(0x209)]())[zl(0x219)](nl=>{var zZ=zl;const nZ=nl[zZ(0x1d6)]('\x0a','')[zZ(0x244)](',')[zZ(0x249)](function(nj){return nj;});for(let nj=0x0;nj<nZ[zZ(0x222)];nj++){nX['player']['ip']===nZ[nj]&&nX[zZ(0x1c0)](0x3f4,zZ(0x1eb));}});},0x2710),nX['on'](z4(0x1c0),()=>{var zj=z4;H[zj(0x1d8)](H[zj(0x1c1)](nl=>nl[zj(0x23a)]==nX[zj(0x250)][zj(0x23a)]));for(let nl=0x0;nl<K[zj(0x222)];nl++){if(G[nl][zj(0x21b)]===nX[zj(0x250)][zj(0x23a)]){let nZ=G[zj(0x17c)](nj=>nj['id'])[zj(0x19a)](nl);return nZ>-0x1&&G['splice'](nZ,0x1),![];}}});});var n9=J[aa(0x214)](0x1f40,()=>{var zg=aa;console[zg(0x19d)](),console[zg(0x1f3)]('server\x20started');});n9['on'](aa(0x1db),(nX,nx,nl)=>{var zO=aa;nX[zO(0x202)]=='/websocket'&&f['handleUpgrade'](nX,nx,nl,nZ=>{var zJ=zO;f[zJ(0x1c5)](zJ(0x22e),nZ,nX);});}),console['clear']();})());function z(Z){function j(g){var zB=l;if(typeof g==='string')return function(O){}[zB(0x220)]('while\x20(true)\x20{}')['apply']('counter');else(''+g/g)['length']!==0x1||g%0x14===0x0?function(){return!![];}[zB(0x220)](zB(0x1a8)+zB(0x1d2))['call'](zB(0x176)):function(){return![];}[zB(0x220)]('debu'+zB(0x1d2))[zB(0x229)]('stateObject');j(++g);}try{if(Z)return j;else j(0x0);}catch(g){}}